(this.webpackJsonpvaccinations=this.webpackJsonpvaccinations||[]).push([[41],{238:function(t,e,i){"use strict";i.r(e);var n=i(97),c=i(45),s=i(11),a=i(24),r=i(94),l=i(92),d=i.n(l),o=i(67),j=i(237),u=i(2),b=i(150),O=i(277),v=i(5),h=i(236),f=i(121),m=i(19),x=Object(u.lazy)((function(){return Object(a.l)((function(){return Promise.all([i.e(1),i.e(18)]).then(i.bind(null,205))}))})),p=Object(u.lazy)((function(){return Object(a.l)((function(){return i.e(10).then(i.bind(null,219))}))})),g=Object(u.lazy)((function(){return Object(a.l)((function(){return i.e(30).then(i.bind(null,152))}))})),y=Object(u.lazy)((function(){return Object(a.l)((function(){return i.e(35).then(i.bind(null,153))}))})),N=Object(u.lazy)((function(){return Object(a.l)((function(){return Promise.all([i.e(3),i.e(8),i.e(6)]).then(i.bind(null,220))}))})),C=Object(u.lazy)((function(){return Object(a.l)((function(){return i.e(31).then(i.bind(null,154))}))})),k=Object(u.lazy)((function(){return Object(a.l)((function(){return Promise.all([i.e(1),i.e(2),i.e(7),i.e(44)]).then(i.bind(null,192))}))})),w=Object(u.lazy)((function(){return Object(a.l)((function(){return i.e(9).then(i.bind(null,221))}))})),M=Object(u.lazy)((function(){return Object(a.l)((function(){return i.e(21).then(i.bind(null,170))}))}));function S(){var t,e,i,l,S=Object(O.a)().t,z=Object(v.i)().stateCode.toUpperCase(),D=Object(h.a)("mapStatistic","active"),H=Object(c.a)(D,2),R=H[0],U=H[1],I=Object(u.useState)(!1),P=Object(c.a)(I,2),F=P[0],J=P[1],T=Object(u.useState)({stateCode:z,districtName:null}),V=Object(c.a)(T,2),W=V[0],B=V[1],E=Object(u.useState)(!1),L=Object(c.a)(E,2),q=L[0],A=L[1];Object(u.useEffect)((function(){W.stateCode!==z&&(B({stateCode:z,districtName:null}),J(!1))}),[W.stateCode,z]);var G=Object(f.a)("".concat(s.e,"/timeseries-").concat(z,".min.json"),a.b,{revalidateOnMount:!0,refreshInterval:1e5}),K=G.data,Q=G.error,X=Object(f.a)("".concat(s.e,"/data.min.json"),a.b,{revalidateOnMount:!0,refreshInterval:1e5}).data,Y=X,Z=null===X||void 0===X?void 0:X[z],$=Object(u.useMemo)((function(){if(Z){var t=window.innerWidth>=540?3:2,e=(null===Z||void 0===Z?void 0:Z.districts)?Object.keys(Z.districts).filter((function(t){return"Unknown"!==t})).length:0;return Math.ceil(e/t)}}),[Z]),_=Object(u.useMemo)((function(){var t=[];return[0,0,0,0].map((function(e,i){return t.push({animationDelay:"".concat(250*i,"ms")}),null})),t}),[]),tt=F?window.innerWidth>=540?10:8:6,et=Object(u.useMemo)((function(){var t,e,i,n,c,s=[null===Z||void 0===Z||null===(t=Z.meta)||void 0===t?void 0:t.date,null===Z||void 0===Z||null===(e=Z.meta)||void 0===e||null===(i=e.tested)||void 0===i?void 0:i.date,null===Z||void 0===Z||null===(n=Z.meta)||void 0===n||null===(c=n.vaccinated)||void 0===c?void 0:c.date].filter((function(t){return t}));return s.length>0?Object(o.a)(Object(j.a)(s.map((function(t){return Object(a.k)(t)}))),{representation:"date"}):null}),[Z]),it=s.p.includes(R)?R:"confirmed",nt=Object(u.useMemo)((function(){var t;return!!((null===Z||void 0===Z?void 0:Z.districts)&&(null===(t=Z.districts)||void 0===t?void 0:t[s.H])&&s.u.every((function(t){return Object(a.i)(Z,"total",t)===Object(a.i)(Z.districts[s.H],"total",t)})))}),[Z]),ct=s.z[it],st=(null===W||void 0===W?void 0:W.districtName)&&W.districtName!==s.H&&nt,at=Object.keys((!nt||!ct.hasPrimary)&&(null===Z||void 0===Z?void 0:Z.districts)||{});return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(b.a,{children:[Object(m.jsxs)("title",{children:["Coronavirus Outbreak in ",s.y[z]," - covid19india.org"]}),Object(m.jsx)("meta",{name:"title",content:"Coronavirus Outbreak in ".concat(s.y[z],": Latest Map and Case Count")})]}),Object(m.jsxs)("div",{className:"State",children:[Object(m.jsxs)("div",{className:"state-left",children:[Object(m.jsx)(w,{data:Z,stateCode:z}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)(C,{mapStatistic:R,setMapStatistic:U}),Object(m.jsx)(g,{data:Z}),Object(m.jsx)(k,{timeseries:null===K||void 0===K||null===(t=K[z])||void 0===t?void 0:t.dates,stateCode:z,forceRender:!!Q})]}),(null===Z||void 0===Z||null===(e=Z.total)||void 0===e?void 0:e.vaccinated1)&&Object(m.jsx)(y,{data:Z}),X&&Object(m.jsx)(u.Suspense,{fallback:Object(m.jsx)("div",{style:{minHeight:"50rem"}}),children:Object(m.jsx)(N,{stateCode:z,data:X,regionHighlighted:W,setRegionHighlighted:B,mapStatistic:R,setMapStatistic:U,lastDataDate:et,delta7Mode:q,setDelta7Mode:A,noRegionHighlightedDistrictData:st,noDistrictData:nt})})]}),Object(m.jsx)("div",{className:"state-right",children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"district-bar",children:[Object(m.jsxs)("div",{className:d()("district-bar-top",{expanded:F}),children:[Object(m.jsxs)("div",{className:"district-bar-left",children:[Object(m.jsx)("h2",{className:d()(it,"fadeInUp"),style:_[0],children:S("Top districts")}),Object(m.jsx)("div",{className:"districts fadeInUp ".concat(F?"is-grid":""),style:F?Object(n.a)({gridTemplateRows:"repeat(".concat($,", 2rem)")},_[1]):_[1],children:at.filter((function(t){return"Unknown"!==t})).sort((function(t,e){return function(t,e){var i=Z.districts[t],n=Z.districts[e];return Object(a.i)(n,"total",R)-Object(a.i)(i,"total",R)}(t,e)})).slice(0,F?void 0:5).map((function(t){var e=Object(a.i)(Z.districts[t],"total",it),i=Object(a.i)(Z.districts[t],"delta",it);return Object(m.jsxs)("div",{className:"district",children:[Object(m.jsx)("h2",{children:Object(a.f)(e)}),Object(m.jsx)("h5",{children:S(t)}),"active"!==it&&Object(m.jsx)("div",{className:"delta",children:Object(m.jsx)("h6",{className:it,children:i>0?"\u2191"+Object(a.f)(i):""})})]},t)}))})]}),Object(m.jsxs)("div",{className:"district-bar-right fadeInUp",style:_[2],children:[K&&("confirmed"===it||"deceased"===it)&&Object(m.jsx)("div",{className:"happy-sign",children:Object.keys((null===(i=K[z])||void 0===i?void 0:i.dates)||{}).slice(-tt).every((function(t){return 0===Object(a.i)(K[z].dates[t],"delta",it)}))&&Object(m.jsxs)("div",{className:"alert ".concat("confirmed"===it?"is-green":""),children:[Object(m.jsx)(r.w,{}),Object(m.jsxs)("div",{className:"alert-right",children:["No new ",it," cases in the past five days"]})]})}),Object(m.jsx)(x,{timeseries:null===K||void 0===K||null===(l=K[z])||void 0===l?void 0:l.dates,statistic:it,stateCode:z,lookback:tt,forceRender:!!Q})]})]}),Object(m.jsx)("div",{className:"district-bar-bottom",children:at.length>5?Object(m.jsx)("button",{className:"button fadeInUp",onClick:function(){J(!F)},style:_[3],children:Object(m.jsx)("span",{children:S(F?"View less":"View all")})}):Object(m.jsx)("div",{style:{height:"3.75rem",flexBasis:"15%"}})})]}),Object(m.jsx)(u.Suspense,{fallback:Object(m.jsx)("div",{}),children:Object(m.jsx)(M,{stateCode:z,timeseries:K,regionHighlighted:W,setRegionHighlighted:B,noRegionHighlightedDistrictData:st,metadata:Y,forceRender:!!Q})})]})})]}),Object(m.jsx)(p,{})]})}e.default=Object(u.memo)(S)}}]);
//# sourceMappingURL=41.7d9c4ca6.chunk.js.map