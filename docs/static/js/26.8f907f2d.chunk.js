(this.webpackJsonpvaccinations=this.webpackJsonpvaccinations||[]).push([[26],{136:function(t,n,e){"use strict";e.d(n,"b",(function(){return b})),e.d(n,"a",(function(){return v}));var r=e(243),i=e(197),a=e(266),c=e(111),o=e(102),u=e(46);function s(t){return Math.log(t)}function l(t){return Math.exp(t)}function f(t){return-Math.log(-t)}function d(t){return-Math.exp(-t)}function h(t){return isFinite(t)?+("1e"+t):t<0?0:t}function j(t){return function(n,e){return-t(-n,e)}}function b(t){var n,e,o=t(s,l),u=o.domain,b=10;function v(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}(b),e=function(t){return 10===t?h:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}(b),u()[0]<0?(n=j(n),e=j(e),t(f,d)):t(s,l),o}return o.base=function(t){return arguments.length?(b=+t,v()):b},o.domain=function(t){return arguments.length?(u(t),v()):u()},o.ticks=function(t){var i=u(),a=i[0],c=i[i.length-1],o=c<a;if(o){var s=[c,a];a=s[0],c=s[1]}var l,f,d=n(a),h=n(c),j=null==t?10:+t,v=[];if(!(b%1)&&h-d<j){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(l=1;l<b;++l)if(!((f=d<0?l/e(-d):l*e(d))<a)){if(f>c)break;v.push(f)}}else for(;d<=h;++d)for(l=b-1;l>=1;--l)if(!((f=d>0?l/e(-d):l*e(d))<a)){if(f>c)break;v.push(f)}2*v.length<j&&(v=Object(r.a)(a,c,j))}else v=Object(r.a)(d,h,Math.min(h-d,j)).map(e);return o?v.reverse():v},o.tickFormat=function(t,r){if(null==t&&(t=10),null==r&&(r=10===b?"s":","),"function"!==typeof r&&(b%1||null!=(r=Object(i.a)(r)).precision||(r.trim=!0),r=Object(a.a)(r)),t===1/0)return r;var c=Math.max(1,b*t/o.ticks().length);return function(t){var i=t/e(Math.round(n(t)));return i*b<b-.5&&(i*=b),i<=c?r(t):""}},o.nice=function(){return u(Object(c.a)(u(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},o}function v(){var t=b(Object(o.d)()).domain([1,10]);return t.copy=function(){return Object(o.a)(t,v()).base(t.base())},u.b.apply(t,arguments),t}},163:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(25);function i(t,n){var e,i;if(void 0===n){var a,c=Object(r.a)(t);try{for(c.s();!(a=c.n()).done;){var o=a.value;null!=o&&(void 0===e?o>=o&&(e=i=o):(e>o&&(e=o),i<o&&(i=o)))}}catch(d){c.e(d)}finally{c.f()}}else{var u,s=-1,l=Object(r.a)(t);try{for(l.s();!(u=l.n()).done;){var f=u.value;null!=(f=n(f,++s,t))&&(void 0===e?f>=f&&(e=i=f):(e>f&&(e=f),i<f&&(i=f)))}}catch(d){l.e(d)}finally{l.f()}}return[e,i]}},283:function(t,n,e){"use strict";e.r(n);var r=e(98),i=e(45),a=e(11),c=e(24),o=e(92),u=e.n(o),s=e(163),l=e(196),f=e(140),d=e(117),h=e(264),j=e(138),b=e(136),v=e(168),m=e(244),O=e(259);function p(t,n){this._context=t,this._t=n}p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var g=function(t){return new p(t,.5)};var x=e(246),y=e(198),k=e(161),M=(e(101),e(82)),_=e(91),N=e.n(_),T=e(2),w=e(277),A=e(113),D=e(19),E=15,z=35,H=25,R=25,C=.7;function L(t){var n=t.statistics,e=t.timeseries,o=t.dates,p=t.endDate,_=t.chartType,N=t.isUniform,L=t.isLog,P=t.isMovingAverage,S=t.noRegionHighlightedDistrictData,U=t.metadata,F=Object(w.a)().t,I=Object(T.useRef)([]),J=Object(A.a)(),V=Object(i.a)(J,2),Y=V[0],Z=V[1],q=Z.width,B=Z.height,G=Object(T.useState)(o[o.length-1]),K=Object(i.a)(G,2),Q=K[0],W=K[1];Object(T.useEffect)((function(){W(o[o.length-1])}),[o]);var X=Object(T.useCallback)((function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return Object(c.i)(null===e||void 0===e?void 0:e[t],_,n,{movingAverage:r},U)}),[_,P,e,U]),$=Object(T.useMemo)((function(){var t=o.length,n=Object(M.a)(Object(c.k)(o[t-1]),Object(c.k)(o[0])),e=q-z;return Math.max(0,e-R)/(1.25*n)<4}),[q,o]),tt=Object(T.useMemo)((function(){var t=o.length,n=q-z;return Object(h.a)().clamp(!0).domain([Object(c.k)(o[0]||p),Object(c.k)(o[t-1]||p)]).range([R,n])}),[q,p,o]),nt=Object(T.useMemo)((function(){var t=B-H,e=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.domain();return n?t.domain([e[0],e[0]*Math.pow(e[1]/e[0],1.4285714285714286)]):t.domain([e[0],e[0]+(e[1]-e[0])/C]),t},c=Object(s.a)(o.reduce((function(t,n){return t.push.apply(t,Object(r.a)(a.u.map((function(t){return X(n,t)})))),t}),[])),u=Object(i.a)(c,2),l=u[0],f=u[1],d=e(Object(j.a)().clamp(!0).domain([Math.min(0,l),Math.max(1,f)]).range([t,E]).nice(4)),h=e(Object(b.a)().clamp(!0).domain([1,Math.max(10,f)]).range([t,E]).nice(4),!0);return n.map((function(n){if(N){if("total"===_&&L&&a.u.includes(n))return h;if(a.u.includes(n))return d}var r=Object(s.a)(o,(function(t){return X(t,n)})),c=Object(i.a)(r,2),u=c[0],l=c[1];return"total"===_&&L?e(Object(b.a)().clamp(!0).domain([1,Math.max(10,l)]).range([t,E]).nice(4),!0):e(Object(j.a)().clamp(!0).domain([Math.min(0,u),"%"===a.z[n].format?Math.min(100,Math.max(1,l)):Math.max(1,l)]).range([t,E]).nice(4))}))}),[B,_,N,L,n,o,X]);Object(T.useEffect)((function(){if(q&&B){var t=o.length,e=q-z,r=B-H,i="delta"===_&&!P,u=function(t){return t.attr("class","x-axis").call(Object(f.a)(tt).ticks(function(t){return t<480?4:6}(q)))},s=function(t,n){t.attr("class","x-axis2").call(Object(f.a)(tt).tickValues([]).tickSize(0)).select(".domain").style("transform","translate3d(0, ".concat(n(0),"px, 0)")),n(0)!==r?t.select(".domain").attr("opacity",.4):t.select(".domain").attr("opacity",0)},h=function(t,n,e){return t.attr("class","y-axis").call(Object(f.b)(n).ticks(4).tickFormat((function(t){return Object(c.f)(t,e)})).tickPadding(4))};n.forEach((function(n,l){var f,v=I.current[l],p=Object(m.a)(v),M=p.transition().duration(a.d),N=nt[l],T=a.z[n],w="%"===a.z[n].format?"%":"short",A=!!(null===(f=a.z[n])||void 0===f?void 0:f.nonLinear);p.select(".x-axis").style("transform","translate3d(0, ".concat(r,"px, 0)")).transition(M).call(u),p.select(".x-axis2").transition(M).call(s,N),p.select(".y-axis").style("transform","translate3d(".concat(e,"px, 0, 0)")).transition(M).call(h,N,w),p.selectAll("circle.normal").data($?[]:o,(function(t){return t})).join((function(t){return t.append("circle").attr("class","normal").attr("fill",null===T||void 0===T?void 0:T.color).attr("stroke",null===T||void 0===T?void 0:T.color).attr("cx",(function(t){return tt(Object(c.k)(t))})).attr("cy",(function(t){return N(i?0:X(t,n))})).attr("r",2)})).transition(M).attr("cx",(function(t){return tt(Object(c.k)(t))})).attr("cy",(function(t){return N(X(t,n))}));var D=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(O.a)().curve(g).x((function(t){return tt(Object(c.k)(t))})).y0(N(0)).y1(e?N(0):function(t){return N(X(t,n,!1))})(t)};p.selectAll(".trend-area").data(t&&"delta"===_&&!A&&$?[o]:[]).join((function(t){return t.append("path").attr("class","trend-area").call((function(t){return t.attr("d",(function(t){return D(t,!0)})).transition(M).attr("d",D)}))}),(function(t){return t.call((function(t){return t.transition(M).attrTween("d",(function(t){var n=Object(m.a)(this).attr("d"),e=D(t);return Object(d.a)(n,e)}))}))}),(function(t){return t.call((function(t){return t.transition(M).attr("d",(function(t){return D(t,!0)})).remove()}))})).transition(M).attr("opacity",P?.3:1),p.selectAll(".stem").data(!t||"delta"!==_||A||$?[]:o,(function(t){return t})).join((function(t){return t.append("line").attr("class","stem").attr("stroke-width",4).attr("x1",(function(t){return tt(Object(c.k)(t))})).attr("y1",N(0)).attr("x2",(function(t){return tt(Object(c.k)(t))})).attr("y2",N(0))}),(function(t){return t}),(function(t){return t.call((function(t){return t.transition(M).attr("x1",(function(t){return tt(Object(c.k)(t))})).attr("x2",(function(t){return tt(Object(c.k)(t))})).attr("y1",N(0)).attr("y2",N(0)).remove()}))})).transition(M).attr("x1",(function(t){return tt(Object(c.k)(t))})).attr("y1",N(0)).attr("x2",(function(t){return tt(Object(c.k)(t))})).attr("y2",(function(t){return N(X(t,n,!1))})).attr("opacity",P?.2:1);var E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.a;return Object(y.a)().curve(e).x((function(t){return tt(Object(c.k)(t))})).y((function(e){return N(X(e,n,t))}))};p.select(".trend").selectAll("path").data(t&&("total"===_||A||P)?[o]:[]).join((function(t){return t.append("path").attr("class","trend").attr("fill","none").attr("stroke-width",4).attr("d",E()).call((function(t){return t.transition(M).attr("opacity",1)}))}),(function(t){return t.call((function(t){return t.transition(M).attrTween("d",(function(t){var n=Object(m.a)(this).attr("d"),e=E()(t);return Object(d.a)(n,e)})).attr("opacity",1)}))}),(function(t){return t.call((function(t){return t.transition(M).attr("opacity",0).remove()}))})).attr("stroke",(null===T||void 0===T?void 0:T.color)+($?"99":"50")),p.select(".trend-background").selectAll("path").data(t&&"delta"===_&&A&&P?[o]:[]).join((function(t){return t.append("path").attr("class","trend-background").attr("fill","none").attr("stroke-width",4).attr("d",E(!1,k.a)).call((function(t){return t.transition(M).attr("opacity",.2)}))}),(function(t){return t.call((function(t){return t.transition(M).attrTween("d",(function(t){var n=Object(m.a)(this).attr("d"),e=E(!1,k.a)(t);return Object(d.a)(n,e)})).attr("opacity",.2)}))}),(function(t){return t.call((function(t){return t.transition(M).attr("opacity",0).remove()}))})).attr("stroke",(null===T||void 0===T?void 0:T.color)+($?"99":"50")),p.selectAll("*").attr("pointer-events","none"),p.on("mousemove",j).on("touchmove",(function(t){return j(t.touches[0])})).on("mouseout touchend",b)}))}function j(t){var n=Object(v.a)(t)[0],e=tt.invert(n);if(!isNaN(e)){var r=Object(l.a)((function(t){return Object(c.k)(t)})).left,i=r(o,e,1),a=o[i-1],u=o[i];W(e-Object(c.k)(a)<Object(c.k)(u)-e?a:u)}}function b(n){W(o[t-1])}}),[q,B,_,P,$,tt,nt,n,X,o]),Object(T.useEffect)((function(){n.forEach((function(t,n){var e=I.current[n],r=Object(m.a)(e),i=a.z[t],o=nt[n],u=r.transition().duration(a.d);r.selectAll("circle.condensed").data($&&Q?[Q]:[],(function(t){return t})).join((function(n){return n.append("circle").attr("class","condensed").attr("fill",null===i||void 0===i?void 0:i.color).attr("stroke",null===i||void 0===i?void 0:i.color).attr("pointer-events","none").attr("cx",(function(t){return tt(Object(c.k)(t))})).attr("cy",(function(n){return o(X(n,t))})).attr("r",4)})).transition(u).attr("cx",(function(t){return tt(Object(c.k)(t))})).attr("cy",(function(n){return o(X(n,t))})),$||r.selectAll("circle").attr("r",(function(t){return t===Q?4:2}))}))}),[$,Q,tt,nt,n,X]);var et=Object(T.useCallback)((function(t){var n;if(Q){var e=X(Q,t);if(!(null===(n=a.z[t])||void 0===n?void 0:n.hideZero)||0!==e){var r=o[o.findIndex((function(t){return t===Q}))-1];return e-X(r,t)}}}),[o,Q,X]),rt=Object(T.useMemo)((function(){return n.map((function(t,n){return{animationDelay:"".concat(250*n,"ms")}}))}),[n]);return Object(D.jsx)("div",{className:"Timeseries",children:n.map((function(t,n){var e=X(Q,t),r=et(t,n),i=a.z[t];return Object(D.jsxs)("div",{className:u()("svg-parent fadeInUp","is-".concat(t)),style:rt[n],ref:0===n?Y:null,children:[Q&&Object(D.jsxs)("div",{className:u()("stats","is-".concat(t)),children:[Object(D.jsx)("h5",{className:"title",children:F(Object(c.a)(i.displayName))}),Object(D.jsx)("h5",{children:Object(c.c)(Q,"dd MMMM")}),Object(D.jsxs)("div",{className:"stats-bottom",children:[Object(D.jsx)("h2",{children:S&&(null===i||void 0===i?void 0:i.hasPrimary)?"-":Object(c.f)(e,"short"!==i.format?i.format:"long",t)}),Object(D.jsx)("h6",{children:S&&(null===i||void 0===i?void 0:i.hasPrimary)?"":"".concat(r>0?"+":"").concat(Object(c.f)(r,"short"!==i.format?i.format:"long",t))})]})]}),Object(D.jsxs)("svg",{ref:function(t){I.current[n]=t},preserveAspectRatio:"xMidYMid meet",children:[Object(D.jsx)("g",{className:"x-axis"}),Object(D.jsx)("g",{className:"x-axis2"}),Object(D.jsx)("g",{className:"y-axis"}),Object(D.jsx)("g",{className:"trend-background"}),Object(D.jsx)("g",{className:"trend"})]})]},t)}))})}var P=function(t,n){return!!N()(n.chartType,t.chartType)&&(!!N()(n.isUniform,t.isUniform)&&(!!N()(n.isLog,t.isLog)&&(!!N()(n.isMovingAverage,t.isMovingAverage)&&(!!N()(n.regionHighlighted.stateCode,t.regionHighlighted.stateCode)&&(!!N()(n.regionHighlighted.districtName,t.regionHighlighted.districtName)&&(!!N()(n.noRegionHighlightedDistrictData,t.noRegionHighlightedDistrictData)&&(!!N()(n.endDate,t.endDate)&&(!!N()(n.statistics,t.statistics)&&!!N()(n.dates,t.dates)))))))))};n.default=Object(T.memo)(L,P)}}]);
//# sourceMappingURL=26.8f907f2d.chunk.js.map