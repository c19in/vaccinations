(this.webpackJsonpvaccinations=this.webpackJsonpvaccinations||[]).push([[27],{135:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var c=i(25);function n(e,t){var i;if(void 0===t){var n,a=Object(c.a)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;null!=s&&(i>s||void 0===i&&s>=s)&&(i=s)}}catch(u){a.e(u)}finally{a.f()}}else{var r,o=-1,d=Object(c.a)(e);try{for(d.s();!(r=d.n()).done;){var l=r.value;null!=(l=t(l,++o,e))&&(i>l||void 0===i&&l>=l)&&(i=l)}}catch(u){d.e(u)}finally{d.f()}}return i}},170:function(e,t,i){"use strict";i.r(t);var c=i(98),n=i(45),a=i(110),s=i(19),r=function(){var e=window.innerWidth,t=e>=769?480:e,i=1200;return Object(s.jsxs)(a.a,{viewBox:"0 0 ".concat(t," ").concat(i),height:i,width:t,speed:2,children:[Object(s.jsx)("circle",{cx:.4*t,cy:600,r:"5"}),Object(s.jsx)("circle",{cx:.5*t,cy:600,r:"5"}),Object(s.jsx)("circle",{cx:.6*t,cy:600,r:"5"})]})},o=i(11),d=i(116),l=i(24),u=i(94),j=i(92),b=i.n(j),m=i(135),h=i(67),O=i(80),v=i(91),f=i.n(v),g=i(2),x=i(277),y=i(191),p=i(272),N=Object(g.lazy)((function(){return Object(l.l)((function(){return Promise.all([i.e(1),i.e(2),i.e(19)]).then(i.bind(null,258))}))})),C=Object(g.lazy)((function(){return Object(l.l)((function(){return Promise.all([i.e(1),i.e(2),i.e(5),i.e(26)]).then(i.bind(null,283))}))})),k=Object(g.lazy)((function(){return Object(l.l)((function(){return Promise.all([i.e(1),i.e(2),i.e(5),i.e(33)]).then(i.bind(null,265))}))}));function D(e){var t,i=this,a=e.stateCode,j=e.timeseries,v=e.date,f=e.regionHighlighted,D=e.setRegionHighlighted,H=e.anchor,M=e.setAnchor,S=e.expandTable,w=void 0!==S&&S,R=e.hideVaccinated,T=void 0!==R&&R,A=e.noRegionHighlightedDistrictData,U=e.metadata,J=Object(x.a)().t,L=Object(y.a)("timeseriesLookbackDays",90),z=Object(n.a)(L,2),E=z[0],B=z[1],F=Object(y.a)("chartType","delta"),I=Object(n.a)(F,2),P=I[0],V=I[1],W=Object(y.a)("isUniform",!1),q=Object(n.a)(W,2),G=q[0],K=q[1],Q=Object(y.a)("isLog",!1),X=Object(n.a)(Q,2),Y=X[0],Z=X[1],$=Object(y.a)("isMovingAverage",!1),_=Object(n.a)($,2),ee=_[0],te=_[1],ie=Object.keys((null===j||void 0===j||null===(t=j[a])||void 0===t?void 0:t.dates)||{}),ce=ie[0]||v||Object(l.h)(),ne=Object(m.a)([ie[ie.length-1],v||Object(l.h)()]),ae=Object(g.useState)(ne),se=Object(n.a)(ae,2),re=se[0],oe=se[1];Object(g.useEffect)((function(){oe(ne)}),[ne]);var de=null!==E?Object(h.a)(Object(O.a)(Object(l.k)(re),E),{representation:"date"}):ce,le=Object(g.useRef)(),ue=Object(d.a)(le,{once:!0}),je=Object(p.a)().width,be=Object(g.useMemo)((function(){var e;return(null===j||void 0===j||null===(e=j[f.stateCode])||void 0===e?void 0:e.districts)?{stateCode:f.stateCode,districtName:f.districtName}:{stateCode:f.stateCode,districtName:null}}),[j,f.stateCode,f.districtName]),me=Object(g.useMemo)((function(){var e,t,i,c;return be.districtName?null===j||void 0===j||null===(e=j[be.stateCode])||void 0===e||null===(t=e.districts)||void 0===t||null===(i=t[be.districtName])||void 0===i?void 0:i.dates:null===j||void 0===j||null===(c=j[be.stateCode])||void 0===c?void 0:c.dates}),[j,be.stateCode,be.districtName]),he=Object(g.useMemo)((function(){var e,t,i,c;return be.districtName?null===U||void 0===U||null===(e=U[be.stateCode])||void 0===e||null===(t=e.districts)||void 0===t||null===(i=t[be.districtName])||void 0===i?void 0:i.meta:null===U||void 0===U||null===(c=U[be.stateCode])||void 0===c?void 0:c.meta}),[U,be.stateCode,be.districtName]),Oe=Object(g.useMemo)((function(){var e=Object.keys(j||{}).filter((function(e){return e!==a})).sort((function(e,t){return o.y[e].localeCompare(o.y[t])})).map((function(e){return{stateCode:e,districtName:null}})),t=Object.keys(j||{}).reduce((function(e,t){var i;return[].concat(Object(c.a)(e),Object(c.a)(Object.keys((null===j||void 0===j||null===(i=j[t])||void 0===i?void 0:i.districts)||{}).reduce((function(e,i){return[].concat(Object(c.a)(e),[{stateCode:t,districtName:i}])}),[])))}),[]);return[{stateCode:a,districtName:null}].concat(Object(c.a)(e),Object(c.a)(t))}),[j,a]),ve=Object(g.useMemo)((function(){return Oe.find((function(e){return e.stateCode===f.stateCode&&e.districtName===f.districtName}))?Oe:[].concat(Object(c.a)(Oe),[{stateCode:f.stateCode,districtName:f.districtName}])}),[f.stateCode,f.districtName,Oe]),fe=Object(g.useMemo)((function(){return Object.keys(me||{}).filter((function(e){return e<=ne}))}),[me,ne]),ge=Object(g.useMemo)((function(){return fe.filter((function(e){return de<=e&&e<=re}))}),[fe,de,re]),xe=Object(g.useCallback)((function(e){var t=e.target;D(JSON.parse(t.value))}),[D]),ye=Object(g.useCallback)((function(){D({stateCode:a,districtName:null})}),[a,D]),pe=Object(g.useMemo)((function(){return o.F.filter((function(e){var t;return(!("vaccinated"===(null===(t=o.z[e])||void 0===t?void 0:t.category))||!T)&&("delta"===P||"tpr"!==e)}))}),[P,T]),Ne=Object(g.useMemo)((function(){return o.J.filter((function(e){var t;return(!("vaccinated"===(null===(t=o.z[e])||void 0===t?void 0:t.category))||!T)&&("delta"===P||"tpr"!==e)}))}),[P,T]);return Object(s.jsxs)("div",{className:b()("TimeseriesExplorer fadeInUp",{stickied:"timeseries"===H},{expanded:w}),style:{display:H&&"timeseries"!==H&&(!w||je<769)?"none":""},ref:le,children:[Object(s.jsxs)("div",{className:"timeseries-header",children:[Object(s.jsx)("div",{className:b()("anchor","fadeInUp",{stickied:"timeseries"===H}),style:{display:w&&je>=769?"none":""},onClick:M&&M.bind(this,"timeseries"===H?null:"timeseries"),children:Object(s.jsx)(u.r,{})}),Object(s.jsx)("h1",{children:J("Spread Trends")}),Object(s.jsx)("div",{className:"tabs",children:Object.entries(o.D).map((function(e,t){var c=Object(n.a)(e,2),a=c[0],r=c[1];return Object(s.jsx)("div",{className:"tab ".concat(P===a?"focused":""),onClick:V.bind(i,a),children:Object(s.jsx)("h4",{children:J(r)})},a)}))}),Object(s.jsxs)("div",{className:"timeseries-options",children:[Object(s.jsxs)("div",{className:"scale-modes",children:[Object(s.jsx)("label",{className:"main",children:"".concat(J("Scale Modes"),":")}),Object(s.jsxs)("div",{className:"timeseries-mode",children:[Object(s.jsx)("label",{htmlFor:"timeseries-mode",children:J("Uniform")}),Object(s.jsx)("input",{id:"timeseries-mode",type:"checkbox",className:"switch",checked:G,"aria-label":J("Checked by default to scale uniformly."),onChange:K.bind(this,!G)})]}),Object(s.jsxs)("div",{className:"timeseries-mode ".concat("total"!==P?"disabled":""),children:[Object(s.jsx)("label",{htmlFor:"timeseries-logmode",children:J("Logarithmic")}),Object(s.jsx)("input",{id:"timeseries-logmode",type:"checkbox",checked:"total"===P&&Y,className:"switch",disabled:"total"!==P,onChange:Z.bind(this,!Y)})]})]}),Object(s.jsxs)("div",{className:"timeseries-mode ".concat("total"===P?"disabled":""," moving-average"),children:[Object(s.jsx)("label",{htmlFor:"timeseries-moving-average",children:J("7 day Moving Average")}),Object(s.jsx)("input",{id:"timeseries-moving-average",type:"checkbox",checked:"delta"===P&&ee,className:"switch",disabled:"delta"!==P,onChange:te.bind(this,!ee)})]})]})]}),ve&&Object(s.jsxs)("div",{className:"state-selection",children:[Object(s.jsx)("div",{className:"dropdown",children:Object(s.jsx)("select",{value:JSON.stringify(be),onChange:xe,children:ve.filter((function(e){return o.y[e.stateCode]!==e.districtName})).map((function(e){return Object(s.jsx)("option",{value:JSON.stringify(e),children:e.districtName?J(e.districtName):J(o.y[e.stateCode])},"".concat(e.stateCode,"-").concat(e.districtName))}))})}),Object(s.jsx)("div",{className:"reset-icon",onClick:ye,children:Object(s.jsx)(u.u,{})})]}),ue&&Object(s.jsxs)(g.Suspense,{fallback:Object(s.jsx)(r,{}),children:[Object(s.jsx)(N,{timeseries:me,regionHighlighted:be,dates:ge,metadata:he,xystatistics:Ne,endDate:ne,chartType:P,isUniform:G,isLog:Y,isMovingAverage:ee,noRegionHighlightedDistrictData:A}),Object(s.jsx)(C,{timeseries:me,regionHighlighted:be,dates:ge,metadata:he,statistics:pe,endDate:ne,chartType:P,isUniform:G,isLog:Y,isMovingAverage:ee,noRegionHighlightedDistrictData:A}),Object(s.jsx)(k,{timeseries:me,regionHighlighted:be,currentBrushSelection:[de,re],animationIndex:pe.length,dates:fe,endDate:ne,lookback:E,setBrushSelectionEnd:oe,setLookback:B})]}),!ue&&Object(s.jsx)("div",{style:{height:"50rem"}}),Object(s.jsx)("div",{className:"pills fadeInUp",style:{animationDelay:"".concat(250*(1+pe.length),"ms")},children:o.E.map((function(e){return Object(s.jsx)("button",{type:"button",className:b()({selected:e===E}),onClick:B.bind(i,e),children:null!==e?"".concat(e," ").concat(J("days")):J("Beginning")},e)}))})]})}var H=function(e,t){return!t.forceRender&&(!(t.timeseries||!e.timeseries)||!(t.timeseries&&!e.timeseries)&&(!!f()(t.regionHighlighted.stateCode,e.regionHighlighted.stateCode)&&(!!f()(t.regionHighlighted.districtName,e.regionHighlighted.districtName)&&(!!f()(t.date,e.date)&&(!!f()(t.anchor,e.anchor)&&(!!f()(t.expandTable,e.expandTable)&&(!!f()(t.hideVaccinated,e.hideVaccinated)&&!!f()(t.noRegionHighlightedDistrictData,e.noRegionHighlightedDistrictData))))))))};t.default=Object(g.memo)(D,H)},91:function(e,t,i){"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var c,n,a;if(Array.isArray(t)){if((c=t.length)!=i.length)return!1;for(n=c;0!==n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((c=(a=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=c;0!==n--;)if(!Object.prototype.hasOwnProperty.call(i,a[n]))return!1;for(n=c;0!==n--;){var s=a[n];if(!e(t[s],i[s]))return!1}return!0}return t!==t&&i!==i}}}]);
//# sourceMappingURL=27.4532e4ed.chunk.js.map