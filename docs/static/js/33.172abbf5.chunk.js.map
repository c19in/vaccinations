{"version":3,"sources":["../node_modules/d3-array/src/max.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js","components/TimeseriesBrush.js","../node_modules/d3-selection/src/pointers.js"],"names":["max","values","valueof","undefined","value","index","nonpassivecapture","capture","passive","event","preventDefault","stopImmediatePropagation","view","root","document","documentElement","selection","select","on","noevent","__noselect","style","MozUserSelect","yesdrag","noclick","setTimeout","x","BrushEvent","type","sourceEvent","target","mode","dispatch","Object","defineProperties","this","enumerable","configurable","_","nopropagation","MODE_DRAG","name","MODE_SPACE","MODE_HANDLE","MODE_CENTER","abs","Math","min","number1","e","number2","X","handles","map","input","output","xy","Y","y","cursors","overlay","n","s","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","t","defaultFilter","ctrlKey","button","defaultExtent","svg","ownerSVGElement","hasAttribute","viewBox","baseVal","width","height","defaultTouchable","navigator","maxTouchPoints","local","node","__brush","parentNode","empty","extent","brush","dim","touchending","filter","touchable","keys","listeners","handleSize","group","property","initialize","selectAll","data","enter","append","attr","merge","each","handle","d","exit","remove","redraw","started","touchmoved","touchended","length","emitter","that","args","clean","emit","Emitter","state","active","touches","apply","arguments","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","__data__","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","points","Array","from","i","identifier","pointer","point0","slice","interrupt","beforestart","pts","move","moved","ended","keydowned","keyupped","dragDisable","call","start","changedTouches","p","cur","point","clearTimeout","dragEnable","end","keyCode","tween","selection0","selection1","interpolate","clear","prototype","starting","datum","constant","keyModifiers","series","order","j","m","isNaN","o","stackValue","key","stackSeries","margin","TimeseriesBrush","timeseries","dates","currentBrushSelection","endDate","lookback","setBrushSelectionEnd","setLookback","animationIndex","chartRef","useRef","useMeasure","wrapperRef","endDateMin","formatISO","addDays","parseIndiaDate","representation","xScale","useMemo","T","chartRight","scaleTime","clamp","domain","range","useEffect","chartBottom","timeseriesStacked","orderNone","offset","offsetNone","stack","oz","sz","array","BRUSH_STATISTICS","date","statistic","getStatistic","yScale","scaleLinear","current","transition","duration","D3_TRANSITION_DURATION","g","axisBottom","ticks","numTicksX","areaPath","area","curve","curveMonotoneX","y0","y1","join","STATISTIC_CONFIGS","color","update","attrTween","previous","interpolatePath","defaultSelection","brushed","useCallback","invert","brushStartDate","brushEndDate","ReactDOM","unstable_batchedUpdates","differenceInDays","beforebrushstarted","brushSelection","events","currentTarget","cx","x0","x1","X0","X1","brushended","className","classnames","ref","onWheel","deltaX","indexOf","sign","animationDelay","preserveAspectRatio","id","fill","href","clipPath","mask","isEqual","prevProps","currProps","equal","regionHighlighted","stateCode","districtName","memo"],"mappings":"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","file":"static/js/33.172abbf5.chunk.js","sourcesContent":["export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import {\n  BRUSH_STATISTICS,\n  D3_TRANSITION_DURATION,\n  STATISTIC_CONFIGS,\n} from '../constants';\nimport {getStatistic, parseIndiaDate} from '../utils/commonFunctions';\n\nimport classnames from 'classnames';\nimport {min, max} from 'd3-array';\nimport {axisBottom} from 'd3-axis';\nimport {brushX, brushSelection} from 'd3-brush';\nimport {interpolatePath} from 'd3-interpolate-path';\nimport {scaleTime, scaleLinear} from 'd3-scale';\nimport {select, pointers} from 'd3-selection';\nimport {area, curveMonotoneX, stack} from 'd3-shape';\nimport 'd3-transition';\nimport {addDays, differenceInDays, formatISO} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport {memo, useCallback, useMemo, useEffect, useRef} from 'react';\nimport ReactDOM from 'react-dom';\nimport {useMeasure} from 'react-use';\n\n// Chart margins\nconst margin = {top: 0, right: 35, bottom: 20, left: 25};\nconst yBufferTop = 1.2;\nconst numTicksX = (width) => (width < 480 ? 4 : 6);\nconst brushWheelDelta = 10;\n\nfunction TimeseriesBrush({\n  timeseries,\n  dates,\n  currentBrushSelection,\n  endDate,\n  lookback,\n  setBrushSelectionEnd,\n  setLookback,\n  animationIndex,\n}) {\n  const chartRef = useRef();\n  const [wrapperRef, {width, height}] = useMeasure();\n\n  const endDateMin =\n    lookback !== null\n      ? min([\n          formatISO(addDays(parseIndiaDate(dates[0]), lookback), {\n            representation: 'date',\n          }),\n          endDate,\n        ])\n      : endDate;\n\n  const xScale = useMemo(() => {\n    const T = dates.length;\n\n    // Chart extremes\n    const chartRight = width - margin.right;\n\n    return scaleTime()\n      .clamp(true)\n      .domain([\n        parseIndiaDate(dates[0] || endDate),\n        parseIndiaDate(dates[T - 1] || endDate),\n      ])\n      .range([margin.left, chartRight]);\n  }, [width, endDate, dates]);\n\n  useEffect(() => {\n    if (!width || !height) return;\n\n    // Chart extremes\n    const chartBottom = height - margin.bottom;\n\n    const xAxis = (g) =>\n      g\n        .attr('class', 'x-axis')\n        .call(axisBottom(xScale).ticks(numTicksX(width)));\n\n    // Switched to daily confirmed instead of cumulative ARD\n    const timeseriesStacked = stack()\n      .keys(BRUSH_STATISTICS)\n      .value((date, statistic) =>\n        Math.max(0, getStatistic(timeseries[date], 'delta', statistic))\n      )(dates);\n\n    const yScale = scaleLinear()\n      .clamp(true)\n      .domain([\n        0,\n        max(\n          timeseriesStacked[timeseriesStacked.length - 1],\n          ([, y1]) => yBufferTop * y1\n        ),\n      ])\n      .range([chartBottom, margin.top]);\n\n    const svg = select(chartRef.current);\n\n    const t = svg.transition().duration(D3_TRANSITION_DURATION);\n\n    svg\n      .select('.x-axis')\n      .attr('pointer-events', 'none')\n      .style('transform', `translate3d(0, ${chartBottom}px, 0)`)\n      .transition(t)\n      .call(xAxis);\n\n    const areaPath = area()\n      .curve(curveMonotoneX)\n      .x((d) => xScale(parseIndiaDate(d.data)))\n      .y0((d) => yScale(d[0]))\n      .y1((d) => yScale(d[1]));\n\n    svg\n      .select('.trend-areas')\n      .selectAll('.trend-area')\n      .data(timeseriesStacked)\n      .join(\n        (enter) =>\n          enter\n            .append('path')\n            .attr('class', 'trend-area')\n            .attr('fill', ({key}) => STATISTIC_CONFIGS[key].color)\n            .attr('fill-opacity', 0.4)\n            .attr('stroke', ({key}) => STATISTIC_CONFIGS[key].color)\n            .attr('d', areaPath)\n            .attr('pointer-events', 'none'),\n        (update) =>\n          update\n            .transition(t)\n            .attrTween('d', function (date) {\n              const previous = select(this).attr('d');\n              const current = areaPath(date);\n              return interpolatePath(previous, current);\n            })\n            .selection()\n      );\n  }, [dates, width, height, xScale, timeseries]);\n\n  const defaultSelection = currentBrushSelection.map((date) =>\n    xScale(parseIndiaDate(date))\n  );\n\n  const brush = useMemo(() => {\n    if (!width || !height) return;\n    // Chart extremes\n    const chartRight = width - margin.right;\n    const chartBottom = height - margin.bottom;\n\n    const brush = brushX()\n      .extent([\n        [margin.left, margin.top],\n        [chartRight, chartBottom],\n      ])\n      .handleSize(20);\n    return brush;\n  }, [width, height]);\n\n  const brushed = useCallback(\n    ({sourceEvent, selection}) => {\n      if (!sourceEvent) return;\n      const [brushStartDate, brushEndDate] = selection.map(xScale.invert);\n\n      ReactDOM.unstable_batchedUpdates(() => {\n        setBrushSelectionEnd(formatISO(brushEndDate, {representation: 'date'}));\n        setLookback(differenceInDays(brushEndDate, brushStartDate));\n      });\n    },\n    [xScale, setBrushSelectionEnd, setLookback]\n  );\n\n  const beforebrushstarted = useCallback(\n    (event) => {\n      const svg = select(chartRef.current);\n      const selection = brushSelection(svg.select('.brush').node());\n\n      if (!selection) return;\n\n      const dx = selection[1] - selection[0];\n      const [[cx]] = pointers(event);\n      const [x0, x1] = [cx - dx / 2, cx + dx / 2];\n      const [X0, X1] = xScale.range();\n      svg\n        .select('.brush')\n        .call(\n          brush.move,\n          x1 > X1 ? [X1 - dx, X1] : x0 < X0 ? [X0, X0 + dx] : [x0, x1]\n        );\n    },\n    [brush, xScale]\n  );\n\n  const brushended = useCallback(\n    ({sourceEvent, selection}) => {\n      if (!sourceEvent || !selection) return;\n      const domain = selection\n        .map(xScale.invert)\n        .map((date) => formatISO(date, {representation: 'date'}));\n\n      const svg = select(chartRef.current);\n      svg\n        .select('.brush')\n        .call(\n          brush.move,\n          domain.map((date) => xScale(parseIndiaDate(date)))\n        )\n        .call((g) => g.select('.overlay').attr('cursor', 'pointer'));\n    },\n    [brush, xScale]\n  );\n\n  useEffect(() => {\n    if (!brush) return;\n    brush.on('start brush', brushed).on('end', brushended);\n    const svg = select(chartRef.current);\n    svg\n      .select('.brush')\n      .call(brush)\n      .call((g) =>\n        g\n          .select('.overlay')\n          .attr('cursor', 'pointer')\n          .datum({type: 'selection'})\n          .on('mousedown touchstart', beforebrushstarted)\n      );\n  }, [brush, brushed, brushended, beforebrushstarted]);\n\n  useEffect(() => {\n    if (!brush) return;\n    const svg = select(chartRef.current);\n    svg.select('.brush').call(brush.move, defaultSelection);\n  }, [brush, defaultSelection]);\n\n  const handleWheel = (event) => {\n    if (event.deltaX) {\n      setBrushSelectionEnd(\n        max([\n          endDateMin,\n          dates[\n            Math.max(\n              0,\n              Math.min(\n                dates.length - 1,\n                dates.indexOf(currentBrushSelection[1]) +\n                  Math.sign(event.deltaX) * brushWheelDelta\n              )\n            )\n          ],\n        ])\n      );\n    }\n  };\n\n  return (\n    <div className=\"Timeseries\">\n      <div\n        className={classnames('svg-parent is-brush fadeInUp')}\n        ref={wrapperRef}\n        onWheel={handleWheel}\n        style={{animationDelay: `${animationIndex * 250}ms`}}\n      >\n        <svg ref={chartRef} preserveAspectRatio=\"xMidYMid meet\">\n          <defs>\n            <clipPath id=\"clipPath\">\n              <rect\n                x={0}\n                y={`${margin.top}`}\n                width={width}\n                height={`${Math.max(0, height - margin.bottom)}`}\n              />\n            </clipPath>\n            <mask id=\"mask\">\n              <rect\n                x={0}\n                y={`${margin.top}`}\n                width={width}\n                height={`${Math.max(0, height - margin.bottom)}`}\n                fill=\"hsl(0, 0%, 40%)\"\n              />\n              <use href=\"#selection\" fill=\"white\" />\n            </mask>\n          </defs>\n\n          <g className=\"brush\" clipPath=\"url(#clipPath)\">\n            <g mask=\"url(#mask)\">\n              <rect className=\"overlay\" />\n              <g className=\"trend-areas\" />\n              <rect className=\"selection\" id=\"selection\" />\n            </g>\n          </g>\n          <g className=\"x-axis\" />\n        </svg>\n      </div>\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (\n    !equal(currProps.currentBrushSelection, prevProps.currentBrushSelection)\n  ) {\n    return false;\n  } else if (\n    !equal(\n      currProps.regionHighlighted.stateCode,\n      prevProps.regionHighlighted.stateCode\n    )\n  ) {\n    return false;\n  } else if (\n    !equal(\n      currProps.regionHighlighted.districtName,\n      prevProps.regionHighlighted.districtName\n    )\n  ) {\n    return false;\n  } else if (!equal(currProps.endDate, prevProps.endDate)) {\n    return false;\n  } else if (!equal(currProps.lookback, prevProps.lookback)) {\n    return false;\n  } else if (!equal(currProps.animationIndex, prevProps.animationIndex)) {\n    return false;\n  } else if (!equal(currProps.dates, prevProps.dates)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(TimeseriesBrush, isEqual);\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n"],"sourceRoot":""}