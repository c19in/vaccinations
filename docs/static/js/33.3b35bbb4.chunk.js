(this.webpackJsonpvaccinations=this.webpackJsonpvaccinations||[]).push([[33],{111:function(e,t,n){"use strict";var i=n(45),c=n(2),s={root:null,rootMargin:"0px 0px 0px 0px",threshold:0};t.a=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){e.current&&new IntersectionObserver((function(t,n){t.forEach((function(t){t.isIntersecting&&(r(!0),n.unobserve(e.current))}))}),s).observe(e.current)}),[e]),a}},241:function(e,t,n){"use strict";n.r(t);var i=n(97),c=n(45),s=n(11),a=n(111),r=n(24),l=n(94),d=n(92),o=n.n(d),j=n(67),u=n(240),b=n(2),O=n(152),v=n(280),h=n(5),f=n(239),m=n(125),x=n(19),p=Object(b.lazy)((function(){return Object(r.l)((function(){return Promise.all([n.e(1),n.e(18)]).then(n.bind(null,204))}))})),g=Object(b.lazy)((function(){return Object(r.l)((function(){return n.e(8).then(n.bind(null,221))}))})),y=Object(b.lazy)((function(){return Object(r.l)((function(){return n.e(30).then(n.bind(null,154))}))})),N=Object(b.lazy)((function(){return Object(r.l)((function(){return n.e(36).then(n.bind(null,155))}))})),C=Object(b.lazy)((function(){return Object(r.l)((function(){return Promise.all([n.e(2),n.e(6),n.e(5)]).then(n.bind(null,222))}))})),k=Object(b.lazy)((function(){return Object(r.l)((function(){return n.e(31).then(n.bind(null,156))}))})),w=Object(b.lazy)((function(){return Object(r.l)((function(){return Promise.all([n.e(1),n.e(3),n.e(24)]).then(n.bind(null,157))}))})),M=Object(b.lazy)((function(){return Object(r.l)((function(){return n.e(7).then(n.bind(null,224))}))})),S=Object(b.lazy)((function(){return Object(r.l)((function(){return Promise.all([n.e(2),n.e(34)]).then(n.bind(null,223))}))})),z=Object(b.lazy)((function(){return Object(r.l)((function(){return n.e(22).then(n.bind(null,172))}))}));function D(){var e,t,n,d,D,H=Object(v.a)().t,R=Object(h.i)().stateCode.toUpperCase(),I=Object(f.a)("mapStatistic","active"),U=Object(c.a)(I,2),P=U[0],E=U[1],F=Object(b.useState)(!1),J=Object(c.a)(F,2),T=J[0],V=J[1],W=Object(b.useState)({stateCode:R,districtName:null}),B=Object(c.a)(W,2),L=B[0],q=B[1],A=Object(b.useState)(!1),G=Object(c.a)(A,2),K=G[0],Q=G[1];Object(b.useEffect)((function(){L.stateCode!==R&&(q({stateCode:R,districtName:null}),V(!1))}),[L.stateCode,R]);var X=Object(m.a)("".concat(s.e,"/timeseries-").concat(R,".min.json"),r.b,{revalidateOnMount:!0,refreshInterval:1e5}),Y=X.data,Z=X.error,$=Object(m.a)("".concat(s.e,"/data.min.json"),r.b,{revalidateOnMount:!0,refreshInterval:1e5}).data,_=$,ee=null===$||void 0===$?void 0:$[R],te=Object(b.useMemo)((function(){if(ee){var e=window.innerWidth>=540?3:2,t=(null===ee||void 0===ee?void 0:ee.districts)?Object.keys(ee.districts).filter((function(e){return"Unknown"!==e})).length:0;return Math.ceil(t/e)}}),[ee]),ne=Object(b.useRef)(),ie=Object(a.a)(ne),ce=Object(b.useMemo)((function(){var e=[];return[0,0,0,0].map((function(t,n){return e.push({animationDelay:"".concat(250*n,"ms")}),null})),e}),[]),se=T?window.innerWidth>=540?10:8:6,ae=Object(b.useMemo)((function(){var e,t,n,i,c,s=[null===ee||void 0===ee||null===(e=ee.meta)||void 0===e?void 0:e.date,null===ee||void 0===ee||null===(t=ee.meta)||void 0===t||null===(n=t.tested)||void 0===n?void 0:n.date,null===ee||void 0===ee||null===(i=ee.meta)||void 0===i||null===(c=i.vaccinated)||void 0===c?void 0:c.date].filter((function(e){return e}));return s.length>0?Object(j.a)(Object(u.a)(s.map((function(e){return Object(r.k)(e)}))),{representation:"date"}):null}),[ee]),re=s.p.includes(P)?P:"confirmed",le=Object(b.useMemo)((function(){var e;return!!((null===ee||void 0===ee?void 0:ee.districts)&&(null===(e=ee.districts)||void 0===e?void 0:e[s.H])&&s.u.every((function(e){return Object(r.i)(ee,"total",e)===Object(r.i)(ee.districts[s.H],"total",e)})))}),[ee]),de=s.z[re],oe=(null===L||void 0===L?void 0:L.districtName)&&L.districtName!==s.H&&le,je=Object.keys((!le||!de.hasPrimary)&&(null===ee||void 0===ee?void 0:ee.districts)||{});return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(O.a,{children:[Object(x.jsxs)("title",{children:["Coronavirus Outbreak in ",s.y[R]," - covid19india.org"]}),Object(x.jsx)("meta",{name:"title",content:"Coronavirus Outbreak in ".concat(s.y[R],": Latest Map and Case Count")})]}),Object(x.jsxs)("div",{className:"State",children:[Object(x.jsxs)("div",{className:"state-left",children:[Object(x.jsx)(M,{data:ee,stateCode:R}),Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsx)(k,{mapStatistic:P,setMapStatistic:E}),Object(x.jsx)(y,{data:ee}),Object(x.jsx)(w,{timeseries:null===Y||void 0===Y||null===(e=Y[R])||void 0===e?void 0:e.dates,stateCode:R,forceRender:!!Z})]}),(null===ee||void 0===ee||null===(t=ee.total)||void 0===t?void 0:t.vaccinated1)&&Object(x.jsx)(N,{data:ee}),$&&Object(x.jsx)(b.Suspense,{fallback:Object(x.jsx)("div",{style:{minHeight:"50rem"}}),children:Object(x.jsx)(C,{stateCode:R,data:$,regionHighlighted:L,setRegionHighlighted:q,mapStatistic:P,setMapStatistic:E,lastDataDate:ae,delta7Mode:K,setDelta7Mode:Q,noRegionHighlightedDistrictData:oe,noDistrictData:le})}),Object(x.jsx)("span",{ref:ne}),ie&&$&&Object(x.jsx)(b.Suspense,{fallback:Object(x.jsx)("div",{}),children:Object(x.jsx)(S,{stateCode:R,data:$,timeseries:null===Y||void 0===Y||null===(n=Y[R])||void 0===n?void 0:n.dates})})]}),Object(x.jsx)("div",{className:"state-right",children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"district-bar",children:[Object(x.jsxs)("div",{className:o()("district-bar-top",{expanded:T}),children:[Object(x.jsxs)("div",{className:"district-bar-left",children:[Object(x.jsx)("h2",{className:o()(re,"fadeInUp"),style:ce[0],children:H("Top districts")}),Object(x.jsx)("div",{className:"districts fadeInUp ".concat(T?"is-grid":""),style:T?Object(i.a)({gridTemplateRows:"repeat(".concat(te,", 2rem)")},ce[1]):ce[1],children:je.filter((function(e){return"Unknown"!==e})).sort((function(e,t){return function(e,t){var n=ee.districts[e],i=ee.districts[t];return Object(r.i)(i,"total",P)-Object(r.i)(n,"total",P)}(e,t)})).slice(0,T?void 0:5).map((function(e){var t=Object(r.i)(ee.districts[e],"total",re),n=Object(r.i)(ee.districts[e],"delta",re);return Object(x.jsxs)("div",{className:"district",children:[Object(x.jsx)("h2",{children:Object(r.f)(t)}),Object(x.jsx)("h5",{children:H(e)}),"active"!==re&&Object(x.jsx)("div",{className:"delta",children:Object(x.jsx)("h6",{className:re,children:n>0?"\u2191"+Object(r.f)(n):""})})]},e)}))})]}),Object(x.jsxs)("div",{className:"district-bar-right fadeInUp",style:ce[2],children:[Y&&("confirmed"===re||"deceased"===re)&&Object(x.jsx)("div",{className:"happy-sign",children:Object.keys((null===(d=Y[R])||void 0===d?void 0:d.dates)||{}).slice(-se).every((function(e){return 0===Object(r.i)(Y[R].dates[e],"delta",re)}))&&Object(x.jsxs)("div",{className:"alert ".concat("confirmed"===re?"is-green":""),children:[Object(x.jsx)(l.w,{}),Object(x.jsxs)("div",{className:"alert-right",children:["No new ",re," cases in the past five days"]})]})}),Object(x.jsx)(p,{timeseries:null===Y||void 0===Y||null===(D=Y[R])||void 0===D?void 0:D.dates,statistic:re,stateCode:R,lookback:se,forceRender:!!Z})]})]}),Object(x.jsx)("div",{className:"district-bar-bottom",children:je.length>5?Object(x.jsx)("button",{className:"button fadeInUp",onClick:function(){V(!T)},style:ce[3],children:Object(x.jsx)("span",{children:H(T?"View less":"View all")})}):Object(x.jsx)("div",{style:{height:"3.75rem",flexBasis:"15%"}})})]}),Object(x.jsx)(b.Suspense,{fallback:Object(x.jsx)("div",{}),children:Object(x.jsx)(z,{stateCode:R,timeseries:Y,regionHighlighted:L,setRegionHighlighted:q,noRegionHighlightedDistrictData:oe,metadata:_,forceRender:!!Z})})]})})]}),Object(x.jsx)(g,{})]})}t.default=Object(b.memo)(D)}}]);
//# sourceMappingURL=33.3b35bbb4.chunk.js.map