(this.webpackJsonpvaccinations=this.webpackJsonpvaccinations||[]).push([[28],{138:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var c=i(25);function n(e,t){var i;if(void 0===t){var n,s=Object(c.a)(e);try{for(s.s();!(n=s.n()).done;){var a=n.value;null!=a&&(i>a||void 0===i&&a>=a)&&(i=a)}}catch(u){s.e(u)}finally{s.f()}}else{var r,o=-1,d=Object(c.a)(e);try{for(d.s();!(r=d.n()).done;){var l=r.value;null!=(l=t(l,++o,e))&&(i>l||void 0===i&&l>=l)&&(i=l)}}catch(u){d.e(u)}finally{d.f()}}return i}},172:function(e,t,i){"use strict";i.r(t);var c=i(101),n=i(45),s=i(110),a=i(19),r=function(){var e=window.innerWidth,t=e>=769?480:e,i=1200;return Object(a.jsxs)(s.a,{viewBox:"0 0 ".concat(t," ").concat(i),height:i,width:t,speed:2,children:[Object(a.jsx)("circle",{cx:.4*t,cy:600,r:"5"}),Object(a.jsx)("circle",{cx:.5*t,cy:600,r:"5"}),Object(a.jsx)("circle",{cx:.6*t,cy:600,r:"5"})]})},o=i(11),d=i(111),l=i(24),u=i(94),j=i(92),b=i.n(j),m=i(138),h=i(67),O=i(80),v=i(90),f=i.n(v),g=i(2),x=i(280),p=i(192),y=i(274),N=Object(g.lazy)((function(){return Object(l.l)((function(){return Promise.all([i.e(1),i.e(3),i.e(17)]).then(i.bind(null,286))}))})),C=Object(g.lazy)((function(){return Object(l.l)((function(){return Promise.all([i.e(1),i.e(3),i.e(16),i.e(42)]).then(i.bind(null,261))}))}));function k(e){var t,i=this,s=e.stateCode,j=e.timeseries,v=e.date,f=e.regionHighlighted,k=e.setRegionHighlighted,D=e.anchor,S=e.setAnchor,w=e.expandTable,H=void 0!==w&&w,M=e.hideVaccinated,R=void 0!==M&&M,T=e.noRegionHighlightedDistrictData,A=e.metadata,U=Object(x.a)().t,E=Object(p.a)("timeseriesLookbackDays",90),J=Object(n.a)(E,2),L=J[0],B=J[1],F=Object(p.a)("chartType","delta"),I=Object(n.a)(F,2),z=I[0],P=I[1],V=Object(p.a)("isUniform",!1),W=Object(n.a)(V,2),q=W[0],G=W[1],K=Object(p.a)("isLog",!1),Q=Object(n.a)(K,2),X=Q[0],Y=Q[1],Z=Object(p.a)("isMovingAverage",!1),$=Object(n.a)(Z,2),_=$[0],ee=$[1],te=Object.keys((null===j||void 0===j||null===(t=j[s])||void 0===t?void 0:t.dates)||{}),ie=te[0]||v||Object(l.h)(),ce=Object(m.a)([te[te.length-1],v||Object(l.h)()]),ne=Object(g.useState)(ce),se=Object(n.a)(ne,2),ae=se[0],re=se[1];Object(g.useEffect)((function(){re(ce)}),[ce]);var oe=null!==L?Object(h.a)(Object(O.a)(Object(l.k)(ae),L),{representation:"date"}):ie,de=Object(g.useRef)(),le=Object(d.a)(de,{once:!0}),ue=Object(y.a)().width,je=Object(g.useMemo)((function(){var e;return(null===j||void 0===j||null===(e=j[f.stateCode])||void 0===e?void 0:e.districts)?{stateCode:f.stateCode,districtName:f.districtName}:{stateCode:f.stateCode,districtName:null}}),[j,f.stateCode,f.districtName]),be=Object(g.useMemo)((function(){var e,t,i,c;return je.districtName?null===j||void 0===j||null===(e=j[je.stateCode])||void 0===e||null===(t=e.districts)||void 0===t||null===(i=t[je.districtName])||void 0===i?void 0:i.dates:null===j||void 0===j||null===(c=j[je.stateCode])||void 0===c?void 0:c.dates}),[j,je.stateCode,je.districtName]),me=Object(g.useMemo)((function(){var e,t,i,c;return je.districtName?null===A||void 0===A||null===(e=A[je.stateCode])||void 0===e||null===(t=e.districts)||void 0===t||null===(i=t[je.districtName])||void 0===i?void 0:i.meta:null===A||void 0===A||null===(c=A[je.stateCode])||void 0===c?void 0:c.meta}),[A,je.stateCode,je.districtName]),he=Object(g.useMemo)((function(){var e=Object.keys(j||{}).filter((function(e){return e!==s})).sort((function(e,t){return o.y[e].localeCompare(o.y[t])})).map((function(e){return{stateCode:e,districtName:null}})),t=Object.keys(j||{}).reduce((function(e,t){var i;return[].concat(Object(c.a)(e),Object(c.a)(Object.keys((null===j||void 0===j||null===(i=j[t])||void 0===i?void 0:i.districts)||{}).reduce((function(e,i){return[].concat(Object(c.a)(e),[{stateCode:t,districtName:i}])}),[])))}),[]);return[{stateCode:s,districtName:null}].concat(Object(c.a)(e),Object(c.a)(t))}),[j,s]),Oe=Object(g.useMemo)((function(){return he.find((function(e){return e.stateCode===f.stateCode&&e.districtName===f.districtName}))?he:[].concat(Object(c.a)(he),[{stateCode:f.stateCode,districtName:f.districtName}])}),[f.stateCode,f.districtName,he]),ve=Object(g.useMemo)((function(){return Object.keys(be||{}).filter((function(e){return e<=ce}))}),[be,ce]),fe=Object(g.useMemo)((function(){return ve.filter((function(e){return oe<=e&&e<=ae}))}),[ve,oe,ae]),ge=Object(g.useCallback)((function(e){var t=e.target;k(JSON.parse(t.value))}),[k]),xe=Object(g.useCallback)((function(){k({stateCode:s,districtName:null})}),[s,k]),pe=Object(g.useMemo)((function(){return o.F.filter((function(e){var t;return(!("vaccinated"===(null===(t=o.z[e])||void 0===t?void 0:t.category))||!R)&&("delta"===z||"tpr"!==e)}))}),[z,R]);return Object(a.jsxs)("div",{className:b()("TimeseriesExplorer fadeInUp",{stickied:"timeseries"===D},{expanded:H}),style:{display:D&&"timeseries"!==D&&(!H||ue<769)?"none":""},ref:de,children:[Object(a.jsxs)("div",{className:"timeseries-header",children:[Object(a.jsx)("div",{className:b()("anchor","fadeInUp",{stickied:"timeseries"===D}),style:{display:H&&ue>=769?"none":""},onClick:S&&S.bind(this,"timeseries"===D?null:"timeseries"),children:Object(a.jsx)(u.r,{})}),Object(a.jsx)("h1",{children:U("Spread Trends")}),Object(a.jsx)("div",{className:"tabs",children:Object.entries(o.D).map((function(e,t){var c=Object(n.a)(e,2),s=c[0],r=c[1];return Object(a.jsx)("div",{className:"tab ".concat(z===s?"focused":""),onClick:P.bind(i,s),children:Object(a.jsx)("h4",{children:U(r)})},s)}))}),Object(a.jsxs)("div",{className:"timeseries-options",children:[Object(a.jsxs)("div",{className:"scale-modes",children:[Object(a.jsx)("label",{className:"main",children:"".concat(U("Scale Modes"),":")}),Object(a.jsxs)("div",{className:"timeseries-mode",children:[Object(a.jsx)("label",{htmlFor:"timeseries-mode",children:U("Uniform")}),Object(a.jsx)("input",{id:"timeseries-mode",type:"checkbox",className:"switch",checked:q,"aria-label":U("Checked by default to scale uniformly."),onChange:G.bind(this,!q)})]}),Object(a.jsxs)("div",{className:"timeseries-mode ".concat("total"!==z?"disabled":""),children:[Object(a.jsx)("label",{htmlFor:"timeseries-logmode",children:U("Logarithmic")}),Object(a.jsx)("input",{id:"timeseries-logmode",type:"checkbox",checked:"total"===z&&X,className:"switch",disabled:"total"!==z,onChange:Y.bind(this,!X)})]})]}),Object(a.jsxs)("div",{className:"timeseries-mode ".concat("total"===z?"disabled":""," moving-average"),children:[Object(a.jsx)("label",{htmlFor:"timeseries-moving-average",children:U("7 day Moving Average")}),Object(a.jsx)("input",{id:"timeseries-moving-average",type:"checkbox",checked:"delta"===z&&_,className:"switch",disabled:"delta"!==z,onChange:ee.bind(this,!_)})]})]})]}),Oe&&Object(a.jsxs)("div",{className:"state-selection",children:[Object(a.jsx)("div",{className:"dropdown",children:Object(a.jsx)("select",{value:JSON.stringify(je),onChange:ge,children:Oe.filter((function(e){return o.y[e.stateCode]!==e.districtName})).map((function(e){return Object(a.jsx)("option",{value:JSON.stringify(e),children:e.districtName?U(e.districtName):U(o.y[e.stateCode])},"".concat(e.stateCode,"-").concat(e.districtName))}))})}),Object(a.jsx)("div",{className:"reset-icon",onClick:xe,children:Object(a.jsx)(u.u,{})})]}),le&&Object(a.jsxs)(g.Suspense,{fallback:Object(a.jsx)(r,{}),children:[Object(a.jsx)(N,{timeseries:be,regionHighlighted:je,dates:fe,metadata:me,statistics:pe,endDate:ce,chartType:z,isUniform:q,isLog:X,isMovingAverage:_,noRegionHighlightedDistrictData:T}),Object(a.jsx)(C,{timeseries:be,regionHighlighted:je,currentBrushSelection:[oe,ae],animationIndex:pe.length,dates:ve,endDate:ce,lookback:L,setBrushSelectionEnd:re,setLookback:B})]}),!le&&Object(a.jsx)("div",{style:{height:"50rem"}}),Object(a.jsx)("div",{className:"pills fadeInUp",style:{animationDelay:"".concat(250*(1+pe.length),"ms")},children:o.E.map((function(e){return Object(a.jsx)("button",{type:"button",className:b()({selected:e===L}),onClick:B.bind(i,e),children:null!==e?"".concat(e," ").concat(U("days")):U("Beginning")},e)}))})]})}var D=function(e,t){return!t.forceRender&&(!(t.timeseries||!e.timeseries)||!(t.timeseries&&!e.timeseries)&&(!!f()(t.regionHighlighted.stateCode,e.regionHighlighted.stateCode)&&(!!f()(t.regionHighlighted.districtName,e.regionHighlighted.districtName)&&(!!f()(t.date,e.date)&&(!!f()(t.anchor,e.anchor)&&(!!f()(t.expandTable,e.expandTable)&&(!!f()(t.hideVaccinated,e.hideVaccinated)&&!!f()(t.noRegionHighlightedDistrictData,e.noRegionHighlightedDistrictData))))))))};t.default=Object(g.memo)(k,D)},90:function(e,t,i){"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var c,n,s;if(Array.isArray(t)){if((c=t.length)!=i.length)return!1;for(n=c;0!==n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((c=(s=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=c;0!==n--;)if(!Object.prototype.hasOwnProperty.call(i,s[n]))return!1;for(n=c;0!==n--;){var a=s[n];if(!e(t[a],i[a]))return!1}return!0}return t!==t&&i!==i}}}]);
//# sourceMappingURL=28.e73d79e3.chunk.js.map