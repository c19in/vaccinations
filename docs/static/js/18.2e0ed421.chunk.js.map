{"version":3,"sources":["../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","../node_modules/react-use/esm/useMeasure.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-array/src/extent.js","components/DeltaBarGraph.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-array/src/range.js","../node_modules/fast-deep-equal/index.js"],"names":["useIsomorphicLayoutEffect","isBrowser","useLayoutEffect","useEffect","defaultState","x","y","width","height","top","left","bottom","right","window","ResizeObserver","_a","useState","element","ref","_b","rect","setRect","observer","useMemo","entries","contentRect","top_1","observe","disconnect","noop","epsilon","translateX","translateY","number","scale","d","center","offset","Math","max","bandwidth","round","entering","this","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","devicePixelRatio","k","transform","context","values","ticks","apply","domain","format","identity","spacing","range","range0","range1","length","position","copy","selection","path","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","isFinite","getAttribute","p","parentNode","remove","filter","each","_","arguments","Array","from","slice","tickSize","axisRight","axisBottom","extent","valueof","min","undefined","value","index","margin","DeltaBarGraph","timeseries","statistic","lookback","svgRef","useRef","useMeasure","wrapperRef","dates","Object","keys","date","getIndiaDateYesterdayISO","getDeltaStatistic","useCallback","getStatistic","svg","current","chartRight","chartBottom","xScale","scaleBand","paddingInner","statisticMin","statisticMax","yScale","scaleLinear","xAxis","formatDate","t","duration","D3_TRANSITION_DURATION","statisticConfig","STATISTIC_CONFIGS","style","call","on","i","color","join","roundedBar","textSelection","formatNumber","showDelta","nonLinear","val","prevVal","delta","abs","className","viewBox","preserveAspectRatio","isEqual","prevProps","currProps","forceRender","equal","stateCode","w","h","r","sign","memo","band","step","ordinal","unknown","ordinalRange","r0","r1","paddingOuter","align","rescale","n","reverse","start","stop","floor","sequence","map","rangeRound","padding","initRange","ceil","module","exports","a","b","constructor","isArray","RegExp","source","flags","valueOf","prototype","toString","hasOwnProperty","key"],"mappings":"qIAGeA,EADiBC,IAAYC,kBAAkBC,YCC1DC,EAAe,CACfC,EAAG,EACHC,EAAG,EACHC,MAAO,EACPC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,OAAQ,EACRC,MAAO,GAuBIX,SAA8C,qBAA1BY,OAAOC,eArB1C,WACI,IAAIC,EAAKC,mBAAS,MAAOC,EAAUF,EAAG,GAAIG,EAAMH,EAAG,GAC/CI,EAAKH,mBAASZ,GAAegB,EAAOD,EAAG,GAAIE,EAAUF,EAAG,GACxDG,EAAWC,mBAAQ,WACnB,OAAO,IAAIV,OAAOC,gBAAe,SAAUU,GACvC,GAAIA,EAAQ,GAAI,CACZ,IAAIT,EAAKS,EAAQ,GAAGC,YAAapB,EAAIU,EAAGV,EAAGC,EAAIS,EAAGT,EAAGC,EAAQQ,EAAGR,MAAOC,EAASO,EAAGP,OAAQkB,EAAQX,EAAGN,IAAKC,EAAOK,EAAGL,KAAMC,EAASI,EAAGJ,OAAQC,EAAQG,EAAGH,MAC1JS,EAAQ,CAAEhB,EAAGA,EAAGC,EAAGA,EAAGC,MAAOA,EAAOC,OAAQA,EAAQC,IAAKiB,EAAOhB,KAAMA,EAAMC,OAAQA,EAAQC,MAAOA,UAG5G,IASH,OARAZ,GAA0B,WACtB,GAAKiB,EAGL,OADAK,EAASK,QAAQV,GACV,WACHK,EAASM,gBAEd,CAACX,IACG,CAACC,EAAKE,IAIV,WAAc,MAAO,CAACS,IAAMzB,K,qGCpCpB,eAASC,GACtB,OAAOA,GCKLyB,EAAU,KAEd,SAASC,EAAW1B,GAClB,MAAO,aAAeA,EAAI,MAG5B,SAAS2B,EAAW1B,GAClB,MAAO,eAAiBA,EAAI,IAG9B,SAAS2B,EAAOC,GACd,OAAO,SAAAC,GAAC,OAAKD,EAAMC,IAGrB,SAASC,EAAOF,EAAOG,GAGrB,OAFAA,EAASC,KAAKC,IAAI,EAAGL,EAAMM,YAAuB,EAATH,GAAc,EACnDH,EAAMO,UAASJ,EAASC,KAAKG,MAAMJ,IAChC,SAAAF,GAAC,OAAKD,EAAMC,GAAKE,GAG1B,SAASK,IACP,OAAQC,KAAKC,OAGf,SAASC,EAAKC,EAAQZ,GACpB,IAAIa,EAAgB,GAChBC,EAAa,KACbC,EAAa,KACbC,EAAgB,EAChBC,EAAgB,EAChBC,EAAc,EACdf,EAA2B,qBAAXxB,QAA0BA,OAAOwC,iBAAmB,EAAI,EAAI,GAC5EC,EApCI,IAoCAR,GAjCC,IAiCiBA,GAAmB,EAAI,EAC7CzC,EAlCK,IAkCDyC,GApCE,IAoCiBA,EAAmB,IAAM,IAChDS,EAtCI,IAsCQT,GApCL,IAoCuBA,EAAoBf,EAAaC,EAEnE,SAASa,EAAKW,GACZ,IAAIC,EAAuB,MAAdT,EAAsBd,EAAMwB,MAAQxB,EAAMwB,MAAMC,MAAMzB,EAAOa,GAAiBb,EAAM0B,SAAYZ,EACzGa,EAAuB,MAAdZ,EAAsBf,EAAMe,WAAaf,EAAMe,WAAWU,MAAMzB,EAAOa,GAAiBe,EAAYb,EAC7Gc,EAAUzB,KAAKC,IAAIW,EAAe,GAAKE,EACvCY,EAAQ9B,EAAM8B,QACdC,GAAUD,EAAM,GAAK3B,EACrB6B,GAAUF,EAAMA,EAAMG,OAAS,GAAK9B,EACpC+B,GAAYlC,EAAMM,UAAYJ,EAASH,GAAQC,EAAMmC,OAAQhC,GAC7DiC,EAAYd,EAAQc,UAAYd,EAAQc,YAAcd,EACtDe,EAAOD,EAAUE,UAAU,WAAWC,KAAK,CAAC,OAC5CC,EAAOJ,EAAUE,UAAU,SAASC,KAAKhB,EAAQvB,GAAOyC,QACxDC,EAAWF,EAAKG,OAChBC,EAAYJ,EAAKK,QAAQC,OAAO,KAAKC,KAAK,QAAS,QACnDC,EAAOR,EAAKS,OAAO,QACnBC,EAAOV,EAAKS,OAAO,QAEvBZ,EAAOA,EAAKc,MAAMd,EAAKQ,QAAQO,OAAO,OAAQ,SACzCL,KAAK,QAAS,UACdA,KAAK,SAAU,iBAEpBP,EAAOA,EAAKW,MAAMP,GAElBI,EAAOA,EAAKG,MAAMP,EAAUE,OAAO,QAC9BC,KAAK,SAAU,gBACfA,KAAK5E,EAAI,IAAKiD,EAAIJ,IAEvBkC,EAAOA,EAAKC,MAAMP,EAAUE,OAAO,QAC9BC,KAAK,OAAQ,gBACbA,KAAK5E,EAAGiD,EAAIS,GACZkB,KAAK,KArEJ,IAqEUnC,EAAiB,MAnExB,IAmEgCA,EAAoB,SAAW,WAEpEU,IAAYc,IACdC,EAAOA,EAAKgB,WAAW/B,GACvBkB,EAAOA,EAAKa,WAAW/B,GACvB0B,EAAOA,EAAKK,WAAW/B,GACvB4B,EAAOA,EAAKG,WAAW/B,GAEvBoB,EAAWA,EAASW,WAAW/B,GAC1ByB,KAAK,UAAWnD,GAChBmD,KAAK,aAAa,SAAS9C,GAAK,OAAOqD,SAASrD,EAAIiC,EAASjC,IAAMoB,EAAUpB,EAAIE,GAAUM,KAAK8C,aAAa,gBAElHX,EACKG,KAAK,UAAWnD,GAChBmD,KAAK,aAAa,SAAS9C,GAAK,IAAIuD,EAAI/C,KAAKgD,WAAW/C,OAAQ,OAAOW,GAAWmC,GAAKF,SAASE,EAAIA,EAAEvD,IAAMuD,EAAItB,EAASjC,IAAME,OAGtIuC,EAASgB,SAETrB,EACKU,KAAK,IAtFH,IAsFQnC,GAxFP,IAwF0BA,EACvBK,EAAgB,IAAMG,EAAIH,EAAgB,IAAMc,EAAS,IAAM5B,EAAS,IAAM6B,EAAS,IAAMZ,EAAIH,EAAgB,IAAMd,EAAS,IAAM4B,EAAS,IAAMC,EACrJf,EAAgB,IAAMc,EAAS,IAAMX,EAAIH,EAAgB,IAAMd,EAAS,IAAM6B,EAAS,IAAMZ,EAAIH,EAAgB,IAAMc,EAAS,IAAM5B,EAAS,IAAM6B,GAEhKQ,EACKO,KAAK,UAAW,GAChBA,KAAK,aAAa,SAAS9C,GAAK,OAAOoB,EAAUa,EAASjC,GAAKE,MAEpE6C,EACKD,KAAK5E,EAAI,IAAKiD,EAAIJ,GAEvBkC,EACKH,KAAK5E,EAAGiD,EAAIS,GACZqB,KAAKvB,GAEVS,EAAUuB,OAAOnD,GACZuC,KAAK,OAAQ,QACbA,KAAK,YAAa,IAClBA,KAAK,cAAe,cACpBA,KAAK,cA3GF,IA2GiBnC,EAAmB,QAzGrC,IAyG+CA,EAAkB,MAAQ,UAEhFwB,EACKwB,MAAK,WAAanD,KAAKC,OAASwB,KA2CvC,OAxCAvB,EAAKX,MAAQ,SAAS6D,GACpB,OAAOC,UAAU7B,QAAUjC,EAAQ6D,EAAGlD,GAAQX,GAGhDW,EAAKa,MAAQ,WACX,OAAOX,EAAgBkD,MAAMC,KAAKF,WAAYnD,GAGhDA,EAAKE,cAAgB,SAASgD,GAC5B,OAAOC,UAAU7B,QAAUpB,EAAqB,MAALgD,EAAY,GAAKE,MAAMC,KAAKH,GAAIlD,GAAQE,EAAcoD,SAGnGtD,EAAKG,WAAa,SAAS+C,GACzB,OAAOC,UAAU7B,QAAUnB,EAAkB,MAAL+C,EAAY,KAAOE,MAAMC,KAAKH,GAAIlD,GAAQG,GAAcA,EAAWmD,SAG7GtD,EAAKI,WAAa,SAAS8C,GACzB,OAAOC,UAAU7B,QAAUlB,EAAa8C,EAAGlD,GAAQI,GAGrDJ,EAAKuD,SAAW,SAASL,GACvB,OAAOC,UAAU7B,QAAUjB,EAAgBC,GAAiB4C,EAAGlD,GAAQK,GAGzEL,EAAKK,cAAgB,SAAS6C,GAC5B,OAAOC,UAAU7B,QAAUjB,GAAiB6C,EAAGlD,GAAQK,GAGzDL,EAAKM,cAAgB,SAAS4C,GAC5B,OAAOC,UAAU7B,QAAUhB,GAAiB4C,EAAGlD,GAAQM,GAGzDN,EAAKO,YAAc,SAAS2C,GAC1B,OAAOC,UAAU7B,QAAUf,GAAe2C,EAAGlD,GAAQO,GAGvDP,EAAKR,OAAS,SAAS0D,GACrB,OAAOC,UAAU7B,QAAU9B,GAAU0D,EAAGlD,GAAQR,GAG3CQ,EAOF,SAASwD,EAAUnE,GACxB,OAAOW,EAjKG,EAiKSX,GAGd,SAASoE,EAAWpE,GACzB,OAAOW,EApKI,EAoKSX,K,+ECxKP,SAASqE,EAAO9C,EAAQ+C,GACrC,IAAIC,EACAlE,EACJ,QAAgBmE,IAAZF,EAAuB,qBACL/C,GADK,IACzB,2BAA4B,KAAjBkD,EAAiB,QACb,MAATA,SACUD,IAARD,EACEE,GAASA,IAAOF,EAAMlE,EAAMoE,IAE5BF,EAAME,IAAOF,EAAME,GACnBpE,EAAMoE,IAAOpE,EAAMoE,MAPJ,mCAWpB,CACL,IADK,EACDC,GAAS,EADR,cAEanD,GAFb,IAEL,2BAA0B,KAAjBkD,EAAiB,QACyB,OAA5CA,EAAQH,EAAQG,IAASC,EAAOnD,WACvBiD,IAARD,EACEE,GAASA,IAAOF,EAAMlE,EAAMoE,IAE5BF,EAAME,IAAOF,EAAME,GACnBpE,EAAMoE,IAAOpE,EAAMoE,MARxB,+BAaP,MAAO,CAACF,EAAKlE,K,mKCVTsE,EAAe,GAAfA,EAA0B,EAA1BA,EAAqC,GAArCA,EAA+C,EAErD,SAASC,EAAT,GAA2D,IAAnCC,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,UAAWC,EAAW,EAAXA,SACvCC,EAASC,mBACf,EAAsCC,cAAtC,mBAAOC,EAAP,YAAoB9G,EAApB,EAAoBA,MAAOC,EAA3B,EAA2BA,OAKrB8G,EAHYC,OAAOC,KAAKT,GAAc,IAAIlB,QAC9C,SAAC4B,GAAD,OAAUA,GAAQC,iBAEIvB,OAAOc,GAEzBU,EAAoBC,uBACxB,SAACH,EAAMT,GACL,OAAOa,YAAY,OAACd,QAAD,IAACA,OAAD,EAACA,EAAaU,GAAO,QAAST,KAEnD,CAACD,IAsHH,OAnHA5G,qBAAU,WACR,GAAKI,EAAL,CACA,IAAMuH,EAAM3C,YAAO+B,EAAOa,SAEpBC,EAAazH,EAAQsG,EACrBoB,EAAczH,EAASqG,EAIvBqB,EAASC,cACZvE,OAAO0D,GACPtD,MAAM,CAAC6C,EAAamB,IACpBI,aAAa7H,EAAQ,KAExB,EAAqCgG,YAAOe,GAAO,SAACG,GAAD,OACjDE,EAAkBF,EAAMT,MAD1B,mBAAOqB,EAAP,KAAqBC,EAArB,KAIMC,EAASC,cACZ5E,OAAO,CAACtB,KAAKmE,IAAI,EAAG4B,GAAgB,GAAI/F,KAAKC,IAAI,EAAG+F,GAAgB,KACpEtE,MAAM,CAACiE,EAAapB,IAEjB4B,EAAQnC,YAAW4B,GACtB9B,SAAS,GACTnD,YAAW,SAACwE,GAAD,OAAUiB,YAAWjB,EAAM,aAEnCkB,EAAIb,EAAIvC,aAAaqD,SAASC,KAE9BC,EAAkBC,IAAkB/B,GAE1Cc,EACG3C,OAAO,WACPI,WAAWoD,GACXK,MAAM,YAHT,yBAGwCT,EAAO,GAH/C,WAIGU,KAAKR,GACLS,GAAG,SAAS,kBAAMpB,EAAI3C,OAAO,WAAWS,YACxCpB,UAAU,QACVS,KAAK,IAAK,GACVA,KAAK,MAAM,SAACwC,EAAM0B,GAAP,OACVxB,EAAkBF,EAAMT,GAAa,EAAI,OAAS,WAEnDgC,MAAM,cAAe,UACrB/D,KAAK,OAAQ6D,EAAgBM,OAEhCtB,EACGtD,UAAU,QACVC,KAAK6C,GACL+B,MAAK,SAACtE,GAAD,OACJA,EACGC,OAAO,QACPC,KAAK,QAAS,OACdA,KAAK,KAAK,SAACwC,GAAD,OACT6B,EAAWpB,EAAOT,GAAOc,EAAO,GAAIL,EAAO1F,YAAa,EA9CtD,SAiDP+C,WAAWoD,GACX1D,KAAK,KAAK,SAACwC,GAAD,OACT6B,EACEpB,EAAOT,GACPc,EAAO,GACPL,EAAO1F,YACP+F,EAAO,GAAKA,EAAOZ,EAAkBF,EAAMT,IAvDvC,MA2DP/B,KAAK,QAAQ,SAACwC,EAAM0B,GACnB,OAAOA,EAAI7B,EAAMnD,OAAS,EACtB2E,EAAgBM,MAAQ,KACxBN,EAAgBM,SAGxB,IAAMG,EAAgBzB,EACnBtD,UAAU,UACVC,KAAK6C,GACL+B,KAAK,QACLpE,KAAK,QAAS,SACdA,KAAK,KAAK,SAACwC,GAAD,OAAUS,EAAOT,GAAQS,EAAO1F,YAAc,KACxD4C,MAAK,SAACqC,GAAD,OACJ+B,YACE7B,EAAkBF,EAAMT,IACT,OAAf8B,QAAe,IAAfA,OAAA,EAAAA,EAAiBW,aAAjB,OAA8BX,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAiBY,WAC3CZ,EAAgBjF,OAChB,YAIV0F,EACGhE,WAAWoD,GACX1D,KAAK,OAAQ6D,EAAgBM,OAC7BnE,KAAK,KAAK,SAACwC,GACV,IAAMkC,EAAMhC,EAAkBF,EAAMT,GACpC,OAAOuB,EAAOoB,IAAQA,EAAM,EAAI,IAAM,MAG1CJ,EACGvE,OAAO,SACPC,KACC,MACA,SAACwC,GAAD,gBAAaE,EAAkBF,EAAMT,GAAa,EAAI,KAAO,IAA7D,SAED/B,KAAK,KAAK,SAACwC,GAAD,OAAUS,EAAOT,GAAQS,EAAO1F,YAAc,KACxD4C,MAAK,SAACqC,EAAM0B,GACX,GAAU,IAANA,EAAS,MAAO,GACpB,IAAMS,EAAUjC,EAAkBL,EAAM6B,EAAI,GAAInC,GAChD,IAAK4C,EAAS,MAAO,GACrB,IAAMC,EAAQlC,EAAkBF,EAAMT,GAAa4C,EACnD,MAAM,GAAN,OAAUC,EAAQ,EAAI,IAAM,IAA5B,OAAiCL,YAC9B,IAAMK,EAASvH,KAAKwH,IAAIF,GACzB,SAGHrE,WAAWoD,GACX1D,KAAK,OAAQ6D,EAAgBM,MAAQ,SACvC,CAAC9B,EAAO9G,EAAQwG,EAAWzG,EAAOoH,IAGnC,qBAAKoC,UAAU,gBAAgB7I,IAAKmG,EAApC,SACE,sBACEnG,IAAKgG,EACL3G,MAAOA,EACPC,OAAQ,IACRwJ,QAAO,cAASzJ,EAAT,YAAkBC,GACzByJ,oBAAoB,gBALtB,UAOE,mBAAGF,UAAU,WACb,mBAAGA,UAAU,gBAMrB,IAAMG,EAAU,SAACC,EAAWC,GAC1B,OAAIA,EAAUC,gBAEFD,EAAUrD,aAAcoD,EAAUpD,eAEnCqD,EAAUrD,aAAeoD,EAAUpD,gBAElCuD,IAAMH,EAAUI,UAAWH,EAAUG,eAErCD,IAAMH,EAAUlD,SAAUmD,EAAUnD,aAEpCqD,IAAMH,EAAUnD,UAAWoD,EAAUpD,eAQnD,SAASsC,EAAWjJ,EAAGC,EAAGkK,EAAGC,EAAGC,GAW9B,OAVAA,EAAIpI,KAAKqI,KAAKF,GAAKnI,KAAKmE,IAAInE,KAAKwH,IAAIW,GAAIC,GAC3B,CAAC,KAAD,OACPrK,EADO,YACFC,GADE,aAENmK,EAAIC,GAFE,eAGJA,EAHI,YAGCpI,KAAKwH,IAAIY,GAHV,aAGiBA,GAHjB,YAIPF,EAAI,EAAIlI,KAAKwH,IAAIY,IAJV,YAKPpI,KAAKwH,IAAIY,GALF,cAKUpI,KAAKwH,IAAIY,GALnB,YAKyBA,GALzB,YAMPD,EAAIC,GACT,KAEWrB,KAAK,KAbLuB,yBAAK9D,EAAeoD,I,wGCnLpB,SAASW,IACtB,IAKIC,EACAtI,EANAN,EAAQ6I,cAAUC,aAAQtE,GAC1B9C,EAAS1B,EAAM0B,OACfqH,EAAe/I,EAAM8B,MACrBkH,EAAK,EACLC,EAAK,EAGL1I,GAAQ,EACR2F,EAAe,EACfgD,EAAe,EACfC,EAAQ,GAIZ,SAASC,IACP,IAAIC,EAAI3H,IAASO,OACbqH,EAAUL,EAAKD,EACfO,EAAQD,EAAUL,EAAKD,EACvBQ,EAAOF,EAAUN,EAAKC,EAC1BL,GAAQY,EAAOD,GAASnJ,KAAKC,IAAI,EAAGgJ,EAAInD,EAA8B,EAAfgD,GACnD3I,IAAOqI,EAAOxI,KAAKqJ,MAAMb,IAC7BW,IAAUC,EAAOD,EAAQX,GAAQS,EAAInD,IAAiBiD,EACtD7I,EAAYsI,GAAQ,EAAI1C,GACpB3F,IAAOgJ,EAAQnJ,KAAKG,MAAMgJ,GAAQjJ,EAAYF,KAAKG,MAAMD,IAC7D,IAAIiB,EAASmI,YAASL,GAAGM,KAAI,SAAS1C,GAAK,OAAOsC,EAAQX,EAAO3B,KACjE,OAAO8B,EAAaO,EAAU/H,EAAO+H,UAAY/H,GAmDnD,cAhEOvB,EAAM8I,QAgBb9I,EAAM0B,OAAS,SAASmC,GACtB,OAAOC,UAAU7B,QAAUP,EAAOmC,GAAIuF,KAAa1H,KAGrD1B,EAAM8B,MAAQ,SAAS+B,GAAG,QACxB,OAAOC,UAAU7B,QAAU,EAAW4B,EAAX,mBAACmF,EAAD,KAAKC,EAAL,KAAcD,GAAMA,EAAIC,GAAMA,EAAIG,KAAa,CAACJ,EAAIC,IAGjFjJ,EAAM4J,WAAa,SAAS/F,GAAG,QAC7B,OAAO,EAAWA,EAAX,mBAACmF,EAAD,KAAKC,EAAL,KAAcD,GAAMA,EAAIC,GAAMA,EAAI1I,GAAQ,EAAM6I,KAGzDpJ,EAAMM,UAAY,WAChB,OAAOA,GAGTN,EAAM4I,KAAO,WACX,OAAOA,GAGT5I,EAAMO,MAAQ,SAASsD,GACrB,OAAOC,UAAU7B,QAAU1B,IAAUsD,EAAGuF,KAAa7I,GAGvDP,EAAM6J,QAAU,SAAShG,GACvB,OAAOC,UAAU7B,QAAUiE,EAAe9F,KAAKmE,IAAI,EAAG2E,GAAgBrF,GAAIuF,KAAalD,GAGzFlG,EAAMkG,aAAe,SAASrC,GAC5B,OAAOC,UAAU7B,QAAUiE,EAAe9F,KAAKmE,IAAI,EAAGV,GAAIuF,KAAalD,GAGzElG,EAAMkJ,aAAe,SAASrF,GAC5B,OAAOC,UAAU7B,QAAUiH,GAAgBrF,EAAGuF,KAAaF,GAG7DlJ,EAAMmJ,MAAQ,SAAStF,GACrB,OAAOC,UAAU7B,QAAUkH,EAAQ/I,KAAKC,IAAI,EAAGD,KAAKmE,IAAI,EAAGV,IAAKuF,KAAaD,GAG/EnJ,EAAMmC,KAAO,WACX,OAAOwG,EAAKjH,IAAU,CAACsH,EAAIC,IACtB1I,MAAMA,GACN2F,aAAaA,GACbgD,aAAaA,GACbC,MAAMA,IAGNW,IAAUrI,MAAM2H,IAAWtF,a,iCCjFrB,SAAShC,EAAMyH,EAAOC,EAAMZ,GACzCW,GAASA,EAAOC,GAAQA,EAAMZ,GAAQS,EAAIvF,UAAU7B,QAAU,GAAKuH,EAAOD,EAAOA,EAAQ,EAAG,GAAKF,EAAI,EAAI,GAAKT,EAM9G,IAJA,IAAI3B,GAAK,EACLoC,EAAoD,EAAhDjJ,KAAKC,IAAI,EAAGD,KAAK2J,MAAMP,EAAOD,GAASX,IAC3C9G,EAAQ,IAAIiC,MAAMsF,KAEbpC,EAAIoC,GACXvH,EAAMmF,GAAKsC,EAAQtC,EAAI2B,EAGzB,OAAO9G,EAXT,mC,gCCMAkI,EAAOC,QAAU,SAAS7B,EAAM8B,EAAGC,GACjC,GAAID,IAAMC,EAAG,OAAO,EAEpB,GAAID,GAAKC,GAAiB,iBAALD,GAA6B,iBAALC,EAAe,CAC1D,GAAID,EAAEE,cAAgBD,EAAEC,YAAa,OAAO,EAE5C,IAAInI,EAAQgF,EAAG3B,EACf,GAAIvB,MAAMsG,QAAQH,GAAI,CAEpB,IADAjI,EAASiI,EAAEjI,SACGkI,EAAElI,OAAQ,OAAO,EAC/B,IAAKgF,EAAIhF,EAAgB,IAARgF,KACf,IAAKmB,EAAM8B,EAAEjD,GAAIkD,EAAElD,IAAK,OAAO,EACjC,OAAO,EAKT,GAAIiD,EAAEE,cAAgBE,OAAQ,OAAOJ,EAAEK,SAAWJ,EAAEI,QAAUL,EAAEM,QAAUL,EAAEK,MAC5E,GAAIN,EAAEO,UAAYpF,OAAOqF,UAAUD,QAAS,OAAOP,EAAEO,YAAcN,EAAEM,UACrE,GAAIP,EAAES,WAAatF,OAAOqF,UAAUC,SAAU,OAAOT,EAAES,aAAeR,EAAEQ,WAIxE,IADA1I,GADAqD,EAAOD,OAAOC,KAAK4E,IACLjI,UACCoD,OAAOC,KAAK6E,GAAGlI,OAAQ,OAAO,EAE7C,IAAKgF,EAAIhF,EAAgB,IAARgF,KACf,IAAK5B,OAAOqF,UAAUE,eAAe7D,KAAKoD,EAAG7E,EAAK2B,IAAK,OAAO,EAEhE,IAAKA,EAAIhF,EAAgB,IAARgF,KAAY,CAC3B,IAAI4D,EAAMvF,EAAK2B,GAEf,IAAKmB,EAAM8B,EAAEW,GAAMV,EAAEU,IAAO,OAAO,EAGrC,OAAO,EAIT,OAAOX,IAAIA,GAAKC,IAAIA","file":"static/js/18.2e0ed421.chunk.js","sourcesContent":["import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","import {D3_TRANSITION_DURATION, STATISTIC_CONFIGS} from '../constants';\nimport {\n  formatDate,\n  formatNumber,\n  getIndiaDateYesterdayISO,\n  getStatistic,\n} from '../utils/commonFunctions';\n\nimport {extent} from 'd3-array';\nimport {axisBottom} from 'd3-axis';\nimport {scaleBand, scaleLinear} from 'd3-scale';\nimport {select} from 'd3-selection';\nimport 'd3-transition';\nimport equal from 'fast-deep-equal';\nimport {memo, useCallback, useEffect, useRef} from 'react';\nimport {useMeasure} from 'react-use';\n\nconst margin = {top: 50, right: 0, bottom: 50, left: 0};\n\nfunction DeltaBarGraph({timeseries, statistic, lookback}) {\n  const svgRef = useRef();\n  const [wrapperRef, {width, height}] = useMeasure();\n\n  const pastDates = Object.keys(timeseries || {}).filter(\n    (date) => date <= getIndiaDateYesterdayISO()\n  );\n  const dates = pastDates.slice(-lookback);\n\n  const getDeltaStatistic = useCallback(\n    (date, statistic) => {\n      return getStatistic(timeseries?.[date], 'delta', statistic);\n    },\n    [timeseries]\n  );\n\n  useEffect(() => {\n    if (!width) return;\n    const svg = select(svgRef.current);\n\n    const chartRight = width - margin.right;\n    const chartBottom = height - margin.bottom;\n    const r = 5;\n\n    // const formatTime = timeFormat('%e %b');\n    const xScale = scaleBand()\n      .domain(dates)\n      .range([margin.left, chartRight])\n      .paddingInner(width / 1000);\n\n    const [statisticMin, statisticMax] = extent(dates, (date) =>\n      getDeltaStatistic(date, statistic)\n    );\n\n    const yScale = scaleLinear()\n      .domain([Math.min(0, statisticMin || 0), Math.max(1, statisticMax || 0)])\n      .range([chartBottom, margin.top]);\n\n    const xAxis = axisBottom(xScale)\n      .tickSize(0)\n      .tickFormat((date) => formatDate(date, 'dd MMM'));\n\n    const t = svg.transition().duration(D3_TRANSITION_DURATION);\n\n    const statisticConfig = STATISTIC_CONFIGS[statistic];\n\n    svg\n      .select('.x-axis')\n      .transition(t)\n      .style('transform', `translate3d(0, ${yScale(0)}px, 0)`)\n      .call(xAxis)\n      .on('start', () => svg.select('.domain').remove())\n      .selectAll('text')\n      .attr('y', 0)\n      .attr('dy', (date, i) =>\n        getDeltaStatistic(date, statistic) < 0 ? '-1em' : '1.5em'\n      )\n      .style('text-anchor', 'middle')\n      .attr('fill', statisticConfig.color);\n\n    svg\n      .selectAll('.bar')\n      .data(dates)\n      .join((enter) =>\n        enter\n          .append('path')\n          .attr('class', 'bar')\n          .attr('d', (date) =>\n            roundedBar(xScale(date), yScale(0), xScale.bandwidth(), 0, r)\n          )\n      )\n      .transition(t)\n      .attr('d', (date) =>\n        roundedBar(\n          xScale(date),\n          yScale(0),\n          xScale.bandwidth(),\n          yScale(0) - yScale(getDeltaStatistic(date, statistic)),\n          r\n        )\n      )\n      .attr('fill', (date, i) => {\n        return i < dates.length - 1\n          ? statisticConfig.color + '90'\n          : statisticConfig.color;\n      });\n\n    const textSelection = svg\n      .selectAll('.label')\n      .data(dates)\n      .join('text')\n      .attr('class', 'label')\n      .attr('x', (date) => xScale(date) + xScale.bandwidth() / 2)\n      .text((date) =>\n        formatNumber(\n          getDeltaStatistic(date, statistic),\n          statisticConfig?.showDelta || statisticConfig?.nonLinear\n            ? statisticConfig.format\n            : 'short'\n        )\n      );\n\n    textSelection\n      .transition(t)\n      .attr('fill', statisticConfig.color)\n      .attr('y', (date) => {\n        const val = getDeltaStatistic(date, statistic);\n        return yScale(val) + (val < 0 ? 15 : -6);\n      });\n\n    textSelection\n      .append('tspan')\n      .attr(\n        'dy',\n        (date) => `${getDeltaStatistic(date, statistic) < 0 ? 1.2 : -1.2}em`\n      )\n      .attr('x', (date) => xScale(date) + xScale.bandwidth() / 2)\n      .text((date, i) => {\n        if (i === 0) return '';\n        const prevVal = getDeltaStatistic(dates[i - 1], statistic);\n        if (!prevVal) return '';\n        const delta = getDeltaStatistic(date, statistic) - prevVal;\n        return `${delta > 0 ? '+' : ''}${formatNumber(\n          (100 * delta) / Math.abs(prevVal),\n          '%'\n        )}`;\n      })\n      .transition(t)\n      .attr('fill', statisticConfig.color + '90');\n  }, [dates, height, statistic, width, getDeltaStatistic]);\n\n  return (\n    <div className=\"DeltaBarGraph\" ref={wrapperRef}>\n      <svg\n        ref={svgRef}\n        width={width}\n        height={250}\n        viewBox={`0 0 ${width} ${height}`}\n        preserveAspectRatio=\"xMidYMid meet\"\n      >\n        <g className=\"x-axis\" />\n        <g className=\"y-axis\" />\n      </svg>\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (currProps.forceRender) {\n    return false;\n  } else if (!currProps.timeseries && prevProps.timeseries) {\n    return true;\n  } else if (currProps.timeseries && !prevProps.timeseries) {\n    return false;\n  } else if (!equal(prevProps.stateCode, currProps.stateCode)) {\n    return false;\n  } else if (!equal(prevProps.lookback, currProps.lookback)) {\n    return false;\n  } else if (!equal(prevProps.statistic, currProps.statistic)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(DeltaBarGraph, isEqual);\n\nfunction roundedBar(x, y, w, h, r) {\n  r = Math.sign(h) * Math.min(Math.abs(h), r);\n  const paths = [\n    `M ${x} ${y}`,\n    `v ${-h + r}`,\n    `q 0 ${-r} ${Math.abs(r)} ${-r}`,\n    `h ${w - 2 * Math.abs(r)}`,\n    `q ${Math.abs(r)} 0 ${Math.abs(r)} ${r}`,\n    `v ${h - r}`,\n    'Z',\n  ];\n  return paths.join(' ');\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n"],"sourceRoot":""}